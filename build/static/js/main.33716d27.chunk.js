(this["webpackJsonpurbanapplause-web"]=this["webpackJsonpurbanapplause-web"]||[]).push([[0],{1:function(e){e.exports=JSON.parse('{"site_title":{"en":"Urban Applause","fr":"Urban Applause"},"tagline":{"en":"The street art app","fr":"L\'app pour le street art"},"agreement_on_register":{"en":"By signing up, you agree to the $$ and $$","fr":"En appuyant sur S\'inscrire, vous acceptez nos $$ et nos $$"},"redo-search":{"fr":"Rechercher dans cette zone"},"no-results-found":{"fr":"Aucun r\xe9sultat trouv\xe9."},"template":{"en":"","fr":""},"none_provided":{"en":"None provided","fr":""},"done":{"en":"Done","fr":"Termin\xe9"},"account":{"en":"Account","fr":"Compte"},"blocker_username":{"en":"Block $$","fr":"Bloquer $$"},"report_this_post":{"en":"Report this post","fr":"Signaler le post"},"report_content_reason_prompt":{"en":"What is your objection to this content?","fr":"Aidez-nous \xe0 comprendre. En quoi ce Post pose-t-il probl\xe8me?"},"report_content_reason_notInterested":{"en":"This Post doesn\'t interest me.","fr":"Ce Post ne m\'int\xe9resse pas."},"report_content_reason_suspiciousOrSpam":{"en":"It\'s suspicious or spam","fr":"Il est suspect ou publie du spam."},"report_content_reason_sensitivePhoto":{"en":"It displays a sensitive photo","fr":"Il contient une photo ou une vid\xe9o sensible."},"report_content_reason_abusiveOrHarmful":{"en":"It\'s abusive or harmful","fr":"Les propos tenus sont inappropri\xe9s ou dangereux."},"report_content_reason_selfHarmOrSuicide":{"en":"It expresses intentions of self-harm or suicidal behavior","fr":"Il exprime des intentions suicidaires ou autodestructrices."},"report_content_success":{"en":"Thank you for letting us know.","fr":"Merci de nous avoir inform\xe9s. "},"report_content_learn_more":{"en":"Learn more about reporting content","fr":"En savoir plus sur le signalement des infractions \xe0 nos r\xe8gles"},"load_more":{"en":"Load more","fr":"Voir plus"},"confirm-delete-post-title":{"en":"Are you sure you want to delete this $$?","fr":"Supprimer le post?"},"confirm-delete-post-body":{"en":"This cannot be undone","fr":"Il n\'est pas possible d\'annuller cette op\xe9ration."},"confirm-delete-comment-title":{"en":"Are you sure you want to delete this comment?","fr":"Supprimer le r\xe9ponse?"},"confirm-delete-body":{"en":"This cannot be undone","fr":"Il n\'est pas possible d\'annuller cette op\xe9ration."},"delete_post_success":{"en":"Your post has been deleted","fr":"Votre post a \xe9t\xe9 supprim\xe9"},"delete_comment_success":{"en":"Your comment has been deleted","fr":"Votre r\xe9ponse a \xe9t\xe9 supprim\xe9"},"showing-results-for":{"en":"Showing results for:","fr":"R\xe9sultats pour:"},"privacy_policy":{"en":"Privacy Policy","fr":"Politique de confidentialit\xe9"},"terms_of_service":{"en":"Terms of Service","fr":"Conditions d\u2019utilisation"},"unknown_location":{"en":"Unknown location","fr":""},"create-new":{"en":"Create new","fr":"Cr\xe9er un nouveau"},"reset-password":{"en":"Reset password","fr":"Modifier le mot de passe"},"reset-password-success":{"en":"Success! Your password has been updated.","fr":"Votre mot de passe a \xe9t\xe9 modifi\xe9."},"no_post_results":{"en":"No posts to show","fr":""},"empty_field_error":{"en":"This field cannot be empty","fr":""},"bio":{"en":"Bio","fr":"Biographie"},"site-title":{"en":"Urban Applause","fr":"Urban Applause"},"register":{"en":"Sign up","fr":"S\'inscrire"},"switch-to-login":{"en":"Already have an account? Sign In","fr":"Vous avez d\xe9j\xe0 un compte? Connexion "},"login":{"en":"Log In","fr":"Connexion"},"sign-in":{"en":"Sign In","fr":"Connexion"},"switch-to-register":{"en":"Don\'t have an account? Sign up","fr":"Vous n\'avez pas de compte? S\'inscrire"},"add-new-post":{"en":"New Post","fr":"Publier"},"add-new-artist":{"en":"Add Artist","fr":"Ajouter un nouvel artiste"},"add-your-photos":{"en":"Choose your photos","fr":"Ajouter des photos"},"new-post":{"en":"New post","fr":"Ajoutez un publication"},"map":{"en":"Map","fr":"Carte"},"list":{"en":"List","fr":"Liste"},"results":{"en":"Results","fr":"R\xe9sultats"},"comment":{"en":"comment","fr":"r\xe9ponse"},"comments":{"en":"Comments","fr":"R\xe9ponses"},"no-comments":{"en":"No comments","fr":"Pas de r\xe9ponses"},"logout":{"en":"Log Out","fr":"Se D\xe9connecter "},"profile":{"en":"Profile","fr":"Profil"},"applause":{"en":"Applause","fr":"Applaudissements"},"posts":{"en":"Posts","fr":"Publications"},"artists":{"en":"Artists","fr":"Artistes"},"artist":{"en":"Artist","fr":"Artiste"},"users":{"en":"Users","fr":"Utilisateurs"},"username":{"en":"Username","fr":"Nom d\'utilisateur"},"email":{"en":"Email","fr":"Email"},"password":{"en":"Password","fr":"Mot de passe"},"new-password":{"en":"New password (minimum 8 characters)","fr":"Nouveau mot de passe (minimum de 8 caract\xe8res)"},"new-password-again":{"en":"Your new password, again","fr":"Ressaisissez le nouveau mot de passe"},"submit-new-password":{"en":"Save new password","fr":"Modifier le mot de passe"},"password-rules-sybmol":{"en":"A symbol","fr":"1 symbole"},"password-rules-uppercase":{"fr":"1 majuscule"},"password-rules-lowercase":{"fr":"1 miniscule"},"confirm-password":{"en":"Confirm Password","fr":"Mot de passe, encore"},"search-for":{"en":"Search for something...","fr":"Rechercher n\'importe quoi..."},"incorrect-login":{"en":"","fr":"La combinaison de votre adresse Courriel et/ou mot de passe est incorrect."},"forgot-password-cta":{"en":"Forgot your password? Click here to recover it.","fr":"Vous avez oubli\xe9 votre mot de passe ? Cliquez ici pour le recevoir."},"password-val-min-char":{"en":"","fr":"minimum de 8 caract\xe8res"},"email-invalid":{"en":"Not a valid email address","fr":"Veuillez saisir une adresse de courriel valide."},"optional":{"en":"optional","fr":"facultatif"},"in-city":{"en":"in $$","fr":"en Ville de $$"},"posted-time-ago":{"en":"Posted $$ hours ago","fr":"Il y a moins de $$"},"posted-by":{"en":"Posted by","fr":"Publi\xe9 par"},"no-results":{"en":"No results. Broaden your search to find matches.","fr":"Pas de r\xe9sultats."},"unknown-artist":{"en":"Unknown artist","fr":"Artiste inconnu"},"comment-cta":{"en":"Leave a comment","fr":"Votre r\xe9ponse..."},"next":{"en":"Next","fr":"Suivant"},"delete":{"en":"Delete","fr":"Supprimer"},"edit":{"en":"Edit","fr":"Modifier"},"submit-new":{"en":"Submit","fr":"Publie"},"choose-other-images-cta":{"en":"Choose other images","fr":"Choisissez diff\xe9rentes images"},"save-changes":{"en":"Save","fr":"Enregistrer les modifications"},"cancel":{"en":"Cancel","fr":"Annuler"},"published-by":{"en":"Published by","fr":"Publi\xe9 par"},"unknown":{"en":"Unknown","fr":"Inconnu"},"art-by":{"en":"Art by","fr":"Art par"},"image-upload-cta":{"en":"Select photos","fr":"Choisissez des photos"},"loading":{"en":"Loading","fr":"Chargement"},"artist-input-type-new":{"en":"Creating new","fr":"Ajouter un nouvel artiste"},"artist-input-type-unknown":{"en":"Unknown Artist","fr":"Artiste Inconnu"},"artist-input-type-unknown-cta":{"en":"I don\'t know the artist","fr":"Je ne connais pas l\'artiste"},"first_name-field-label":{"en":"First name","fr":"Pr\xe9nom"},"name-field-label":{"en":"Name","fr":"Nom"},"last_name-field-label":{"en":"Last name","fr":"Nom de famille"},"message-field-label":{"en":"Message","fr":"Message"},"send":{"en":"Send","fr":"Envoyer"},"contact-success-message":{"en":"Thank you for your message!","fr":"Merci pour votre message!"},"contact-again":{"en":"Send another message","fr":"Envoyer un autre message"},"location-field-label":{"en":"Location","fr":"Lieu"},"description-field-label":{"en":"Description","fr":"Description"},"photo-date-field-label":{"en":"Photo taken on","fr":"Photo prise"},"description-input-placeholder":{"en":"Details about this photo","fr":"D\xe9tails sur cette photo"},"search-for-artist":{"en":"Search for an artist ","fr":"Rechercher un artiste"},"search-for-user":{"en":"Search for a user","fr":"Rechercher un utilisateur"},"search-for-location":{"en":"Search for a place","fr":"Rechercher un lieu"},"none-selected":{"en":"None selected","fr":"Aucune s\xe9lection"},"about":{"en":"About","fr":"\xc0 propos"},"to-comment":{"en":"to comment","fr":"pour r\xe9pondre"},"or":{"en":"or","fr":"ou"},"dev-blog":{"en":"Development Blog","fr":"Blog de d\xe9veloppement"},"home":{"en":"Home","fr":"Accueil"},"support":{"en":"Help","fr":"Centre d\'aide"},"posts-by-artist":{"en":"Posts by $$","fr":"L\'art de $$"},"member-since":{"en":"Member since","fr":"Membre depuis"},"welcome-user":{"en":"Welcome, $$","fr":"Bienvenue, $$"},"auth-errors":{"login-failed":{"en":"Invalid Credentials","fr":"La combinaison de votre adresse Courriel et/ou mot de passe est incorrect."},"registration-failed":{"en":"Failed to register. You are missing some of the required fields.","fr":"Saisissez l\'information dans la section en surbrillance."},"email-required":{"en":"Valid email is required","fr":"Saisissez l\'information dans la section en surbrillance."},"invalid-email":{"en":"Email is not valid","fr":"Veuillez saisir une adresse de courriel valide."},"duplicate-email":{"en":"A user with that email already exists","fr":"Veuillez saisir votre adresse de courriel de nouveau"},"username-required":{"en":"Username is required","fr":" Saisissez l\'information dans la section en surbrillance."},"duplicate-username":{"en":"A user with that name already exists. Please choose something unique.","fr":"Veuillez saisir votre nom d\'utilisateur de nouveau"},"password-required":{"en":"Password is required","fr":"Entrez une combinaison d\'au moins six chiffres, lettres et signes de ponctuation (tels que ! et &)"},"password-invalid":{"en":"Password is required","fr":"Entrez une combinaison d\'au moins six chiffres, lettres et signes de ponctuation (tels que ! et &)"},"passwords-dont-match":{"en":"Passwords don\'t match","fr":"Entr\xe9e ne correspond pas au-dessus"},"reset-password-token-error":{"en":"Your token to reset password has expired","fr":""}}}')},135:function(e,t){e.exports={getAddressComponents:function(e){var t={};return e.address_components.forEach((function(e){switch(e.types[0]){case"street_number":t.StreetNumber=e;break;case"route":t.StreetName=e;break;case"neighborhood":case"locality":t.City=e;break;case"administrative_area_level_1":t.State=e;break;case"postal_code":t.Zip=e;break;case"country":t.Country=e}})),t},timeSince:function(e){var t=Math.floor((new Date-e)/1e3),a=Math.floor(t/31536e3);return a>1?a+" years":(a=Math.floor(t/2592e3))>1?a+" months":(a=Math.floor(t/86400))>1?a+" days":(a=Math.floor(t/3600))>1?a+" hours":(a=Math.floor(t/60))>1?a+" minutes":Math.floor(t)+" seconds"},getUploadsImUrl:function(e){return new Promise((function(t,a){if(e&&e.type.match(/image.*/)){document.body.className="uploading";var n=new FormData;n.append("upload",e);var r=new XMLHttpRequest;r.open("POST","https://uploads.im/api"),r.onload=function(){var e=JSON.parse(r.responseText).data.img_url;t(e)},r.send(n)}}))},getMonthName:function(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]},getCoord:function(e,t){var a=e[0].numerator+e[1].numerator/(60*e[1].denominator)+e[2].numerator/(3600*e[2].denominator);return"W"==t|"S"?-1*a:a},dataURLtoFile:function(e,t){for(var a=e.split(","),n=a[0].match(/:(.*?);/)[1],r=atob(a[1]),s=r.length,o=new Uint8Array(s);s--;)o[s]=r.charCodeAt(s);return new File([o],t,{type:n})}}},202:function(e,t,a){e.exports=a.p+"static/media/ua-logo.0cebb71a.png"},203:function(e,t){e.exports="data:image/png;base64,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"},204:function(e,t,a){e.exports=a.p+"static/media/applaud.d6f9d63b.svg"},207:function(e,t,a){e.exports=a.p+"static/media/iphone_app.ff5030fd.png"},211:function(e,t,a){e.exports=a(738)},225:function(e,t){},621:function(e,t){},623:function(e,t){},633:function(e,t){},635:function(e,t){},663:function(e,t){},665:function(e,t){},666:function(e,t){},671:function(e,t){},673:function(e,t){},680:function(e,t){},682:function(e,t){},700:function(e,t){},702:function(e,t){},714:function(e,t){},717:function(e,t){},734:function(e,t,a){var n={"./ios_app_store_button_en.png":735,"./ios_app_store_button_fr.png":736};function r(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id=734},735:function(e,t){e.exports="data:image/png;base64,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"},736:function(e,t,a){e.exports=a.p+"static/media/ios_app_store_button_fr.7d165d2a.png"},737:function(e,t,a){},738:function(e,t,a){"use strict";a.r(t);var n,r=a(3),s=a(4),o=a(6),i=a(5),l=a(0),c=a.n(l),u=a(69),p=a.n(u),m=(a(108),a(197)),d=a.n(m),h=a(12),f=a(208),g=a(37),E=a(199),v=(a(222),{auth:{role:null,loggedIn:!1,loading:!1,error:null,sessionExpires:null},settings:{languagePref:"en"},authUser:{data:null,loading:!1,error:null},imageCache:{}}),b=a(8),y=(n={GOOGLE_MAPS_API_KEY:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_GOOGLE_MAPS_API_KEY,APPLE_MAPS_TOKEN:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_APPLE_MAPS_TOKEN,AWS_BUCKET_NAME:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_AWS_BUCKET_NAME,AWS_ACCESS_KEY_ID:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_AWS_ACCESS_KEY_ID,AWS_SECRET_ACCESS_KEY:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_AWS_SECRET_ACCESS_KEY,IMAGES_URL:"https://".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_AWS_BUCKET_NAME,".nyc3.cdn.digitaloceanspaces.com/uploads"),SERVER_URL:"https://api.urbanapplause.com",UPLOADS_SUBPATH:"api/uploads",REGISTER_REQUEST:"REGISTER_REQUEST",REGISTER_SUCCESS:"REGISTER_SUCCESS",REGISTER_FAILURE:"REGISTER_FAILURE",REGISTER_RESET:"REGISTER_RESET",LOGIN_RESET:"LOGIN_RESET",LOGIN_REQUEST:"LOGIN_REQUEST",LOGIN_SUCCESS:"LOGIN_SUCCESS",LOGIN_FAILURE:"LOGIN_FAILURE"},Object(b.a)(n,"REGISTER_RESET","REGISTER_RESET"),Object(b.a)(n,"ATTEMPTING_LOGIN","ATTEMPTING_LOGIN"),Object(b.a)(n,"LOGIN_USER","LOGIN_USER"),Object(b.a)(n,"LOGOUT","LOGOUT"),Object(b.a)(n,"LOGGED_IN","LOGGED_IN"),Object(b.a)(n,"ANONYMOUS","ANONYMOUS"),Object(b.a)(n,"AWAITING_AUTH_RESPONSE","AWAITING_AUTH_RESPONSE"),Object(b.a)(n,"SET_NEW_FILES","SET_NEW_FILES"),Object(b.a)(n,"AWAIT_IMAGE_UPLOAD_RESPONSE","AWAIT_IMAGE_UPLOAD_RESPONSE"),Object(b.a)(n,"IMAGE_UPLOAD_SUCCESS","IMAGE_UPLOAD_SUCCESS"),Object(b.a)(n,"REQUEST_WORKS_DATA","REQUEST_WORKS_DATA"),Object(b.a)(n,"RECEIVE_WORKS_DATA","RECEIVE_WORKS_DATA"),Object(b.a)(n,"WORKS_DATA_ERROR","WORKS_DATA_ERROR"),Object(b.a)(n,"REQUEST_WORK_DATA","REQUEST_WORK_DATA"),Object(b.a)(n,"RECEIVE_WORK_DATA","RECEIVE_WORK_DATA"),Object(b.a)(n,"AWAIT_NEW_WORK_RESPONSE","AWAIT_NEW_WORK_RESPONSE"),Object(b.a)(n,"RECEIVE_NEW_WORK_RESPONSE","RECEIVE_NEW_WORK_RESPONSE"),Object(b.a)(n,"FAILED_NEW_WORK_RESPONSE","FAILED_NEW_WORK_RESPONSE"),Object(b.a)(n,"START_WORK_EDIT","START_WORK_EDIT"),Object(b.a)(n,"FINISH_WORK_EDIT","FINISH_WORK_EDIT"),Object(b.a)(n,"SUBMIT_WORK_EDIT","SUBMIT_WORK_EDIT"),Object(b.a)(n,"REQUEST_COMMENTS_DATA","REQUEST_COMMENTS_DATA"),Object(b.a)(n,"RECEIVE_COMMENTS_DATA","RECEIVE_COMMENTS_DATA"),Object(b.a)(n,"AWAIT_NEW_COMMENT_RESPONSE","AWAIT_NEW_COMMENT_RESPONSE"),Object(b.a)(n,"RECEIVE_NEW_COMMENT_RESPONSE","RECEIVE_NEW_COMMENT_RESPONSE"),Object(b.a)(n,"FAILED_NEW_COMMENT_RESPONSE","FAILED_NEW_COMMENT_RESPONSE"),Object(b.a)(n,"START_COMMENT_EDIT","START_COMMENT_EDIT"),Object(b.a)(n,"FINISH_COMMENT_EDIT","FINISH_COMMENT_EDIT"),Object(b.a)(n,"SUBMIT_COMMENT_EDIT","SUBMIT_COMMENT_EDIT"),Object(b.a)(n,"REQUEST_ARTISTS_DATA","REQUEST_ARTISTS_DATA"),Object(b.a)(n,"RECEIVE_ARTISTS_DATA","RECEIVE_ARTISTS_DATA"),Object(b.a)(n,"REQUEST_ARTIST_DATA","REQUEST_ARTIST_DATA"),Object(b.a)(n,"RECEIVE_ARTIST_DATA","RECEIVE_ARTIST_DATA"),Object(b.a)(n,"AWAIT_NEW_ARTIST_RESPONSE","AWAIT_NEW_ARTIST_RESPONSE"),Object(b.a)(n,"RECEIVE_NEW_ARTIST_RESPONSE","RECEIVE_NEW_ARTIST_RESPONSE"),Object(b.a)(n,"START_ARTIST_EDIT","START_ARTIST_EDIT"),Object(b.a)(n,"ARTIST_EDIT_ERROR","ARTIST_EDIT_ERROR"),Object(b.a)(n,"ARITST_EDIT_SUCCESS","ARTIST_EDIT_SUCCESS"),Object(b.a)(n,"REQUEST_USERS_DATA","REQUEST_USERS_DATA"),Object(b.a)(n,"RECEIVE_USERS_DATA","RECEIVE_USERS_DATA"),Object(b.a)(n,"REQUEST_USER_DATA","REQUEST_USER_DATA"),Object(b.a)(n,"RECEIVE_USER_DATA","RECEIVE_USER_DATA"),Object(b.a)(n,"AWAIT_NEW_USER_RESPONSE","AWAIT_NEW_USER_RESPONSE"),Object(b.a)(n,"RECEIVE_NEW_USER_RESPONSE","RECEIVE_NEW_USER_RESPONSE"),Object(b.a)(n,"START_USER_EDIT","START_USER_EDIT"),Object(b.a)(n,"FINISH_USER_EDIT","FINISH_USER_EDIT"),Object(b.a)(n,"SUBMIT_USER_EDIT","SUBMIT_USER_EDIT"),n),S=function(e,t){switch(t.type){case"RESET_AUTH_FORM":return v.auth;case"AUTH_REQUEST":return Object.assign({},e,{loading:!0});case"AUTH_SUCCESS":return Object.assign({},e,{role:t.role,loggedIn:!0,loading:!1,sessionExpires:t.expires,error:null});case"AUTH_ERROR":return Object.assign({},e,{loggedIn:!1,loading:!1,error:t.error});case"LOGOUT":return Object.assign({},e,{loggedIn:!1,loading:!1,error:null,sessionExpires:null});case"GET_PASSWORD_CHECK_SUCCESS":return Object.assign({},e,{passwordCheck:t.check});default:return e||v.auth}},A=(a(223),function(e,t){switch(t.type){case"INIT_SETTINGS_SUCCESS":return Object.assign({},e,{isLoaded:!0});case"SET_LANGUAGE":return Object.assign({},e,{languagePref:t.languagePref});default:return e||v.settings}}),O=function(e,t){switch(t.type){case"GET_AUTH_USER_REQUEST":return Object.assign({},e,{loading:!0});case"GET_AUTH_USER_SUCCESS":return Object.assign({},e,{loading:!1,data:t.user,error:null});case"GET_AUTH_USER_ERROR":return Object.assign({},e,{loading:!1,error:t.error});default:return e||v.auth}},N=function(e,t){switch(t.type){case"ADD_IMAGES":return Object.assign({},e,t.images);case"CLEAR":return{};default:return e||v.imageCache}},T=Object(g.c)({auth:S,settings:A,authUser:O,imageCache:N}),w=[E.a];var C=g.a.apply(void 0,Object(f.a)(w))(g.d)(T,v),I=a(34),R=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e){if(this.props.location!==e.location){if(this.props.location.hash&&this.props.location.hash.length)return;window.scrollTo(0,0)}}},{key:"render",value:function(){return this.props.children}}]),a}(l.Component),k=Object(I.g)(R),U=a(15),j=a.n(U),_=(a(225),new(function(){function e(){Object(r.a)(this,e)}return Object(s.a)(e,[{key:"parseJwt",value:function(e){if(e){var t=e.split(".")[1];if(!t)return null;var a=t.replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(a).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(n)}return null}},{key:"beginSession",value:function(e,t,a){var n=this.parseJwt(e),r=n&&n.exp?j.a.unix(n.exp):"";n&&n.role;localStorage.setItem("exp",r),localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(a))}},{key:"logout",value:function(){localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("exp")}},{key:"tokenExpiry",value:function(){var e=this.token&&this.parseJwt(this.token);return e&&e.exp&&j.a.unix(e.exp)}},{key:"isAuthenticated",get:function(){var e=localStorage.getItem("token"),t=e&&this.parseJwt(e),a=t&&t.exp&&j.a.unix(t.exp),n=a&&j.a.isMoment(a)?a.diff(j()()):0;return!!(e&&n>0)}},{key:"user",get:function(){var e=localStorage.getItem("user");return e?JSON.parse(e):null}},{key:"token",get:function(){return localStorage.getItem("token")}},{key:"tokenPayload",get:function(){return this.token?this.parseJwt(this.token):null}},{key:"role",get:function(){return this.tokenPayload?this.tokenPayload.role:null}}]),e}())),P=function(){function e(t){Object(r.a)(this,e),this.routerPath=t}return Object(s.a)(e,[{key:"handleError",value:function(e,t){return console.log("handle error: ",e),t?console.log("response: ",t):console.log("no response"),e.message?Promise.reject(e.message):Promise.reject("An error occurred")}},{key:"makeRequest",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="";n&&(r=Object.keys(n).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(n[e])})).join("&")),r.length&&(r="?"+r);var s,o="".concat(this.endpoint).concat(e).concat(r);return fetch(o,a).then((function(e){return s=e,404==e.status?t.handleError(Error("404 Error")):e.json()})).then((function(e){return e.error?Promise.reject(e.error):Promise.resolve(e)})).catch((function(e){return t.handleError(e,s)}))}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,n=Object.assign({},{method:"get",headers:this.headers},t);return this.makeRequest(e,n,a)}},{key:"post",value:function(e,t){var a={method:"post",headers:this.headers,body:JSON.stringify(t)};return this.makeRequest(e,a)}},{key:"put",value:function(e,t){var a={method:"put",headers:this.headers,body:JSON.stringify(t)};return this.makeRequest(e,a)}},{key:"patch",value:function(e,t){var a={method:"patch",headers:this.headers,body:JSON.stringify(t)};return this.makeRequest(e,a)}},{key:"delete",value:function(e,t){var a={method:"delete",headers:this.headers};return this.makeRequest(e,a)}},{key:"upload",value:function(e,t,a){var n=new FormData;t.forEach((function(e){n.append(a,e)}));var r=localStorage.getItem("token"),s={};return s.Authorization="Bearer ".concat(r||""),fetch(this.endpoint+e,{method:"POST",body:n,headers:s}).then((function(e){return e.json()})).then((function(e){return Promise.resolve(e)}))}},{key:"token",get:function(){return _.token}},{key:"endpoint",get:function(){return this.routerPath?"".concat(y.SERVER_URL,"/").concat(this.routerPath):"".concat(y.SERVER_URL,"/app")}},{key:"headers",get:function(){var e=localStorage.getItem("token"),t={"Content-Type":"application/json"};return t.Authorization="Bearer ".concat(e||""),t}}]),e}(),D=new P;var L=y.SERVER_URL,M=new P;M.routerPath="auth";var x=function(e,t){return function(a,n){return a(t?G(e):F(e))}},F=function(e){return function(t,a){return t({type:"AUTH_REQUEST"}),M.post("/login",{user:e}).then((function(e){return e.error?t({type:"AUTH_ERROR",error:e.error.message}):t(W(e.access_token,e.refresh_token,e.user))})).catch((function(e){return t({type:"AUTH_ERROR",error:e})}))}},W=function(e,t,a){return function(n,r){return _.beginSession(e,t,a),n({type:"GET_AUTH_USER_SUCCESS",user:a}),n({type:"AUTH_SUCCESS",role:_.role})}},G=function(e){return function(t,a){return t({type:"AUTH_REQUEST"}),M.post("/register",{user:e}).then((function(e){return e.error?t({type:"AUTH_ERROR",error:e.error.message}):t(W(e.access_token,e.refresh_token,e.user))})).catch((function(e){t({type:"AUTH_ERROR",error:e})}))}},Y={onRegister:G,onLogin:F,onLogout:function(){return _.logout(),{type:"LOGOUT"}},checkLocalAuthState:function(){return function(e,t){if(_.isAuthenticated){var a=_.user,n=_.tokenExpiry;return e({type:"AUTH_SUCCESS",role:_.role,expires:n}),e({type:"GET_AUTH_USER_SUCCESS",user:a})}}},authenticate:x,checkPassword:function(e){return function(t,a){return t({type:"GET_PASSWORD_CHECK_REQUEST"}),fetch(L+"/public/password-check",{method:"POST",body:JSON.stringify({password:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return t({type:"GET_PASSWORD_CHECK_SUCCESS",check:e.feedback})})).catch((function(e){t({type:"GET_PASSWORD_CHECK_ERROR",error:e})}))}}},H=a(202),K=a.n(H),B=a(10),V=a(1),Q=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).toggleHamburger=function(){n.setState({isHamburgerActive:!n.state.isHamburgerActive})},n.handleClick=function(e){n.hamburgerRef&&n.hamburgerRef.contains(e.target)?n.toggleHamburger():n.setState({isHamburgerActive:!1})},n.handleLogout=function(){n.setState({redirect:"/"}),n.props.onLogout()},n.state={isHamburgerActive:!1,redirect:null},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("mouseup",this.handleClick,!1)}},{key:"componentWillReceiveProps",value:function(e){e.settings.languagePref!=this.props.settings.languagePref&&j.a.locale(e.settings.languagePref)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.handleClick,!1)}},{key:"render",value:function(){var e=this,t=this.props.settings.languagePref;if(this.state.redirect)return c.a.createElement(I.a,{to:this.state.redirect});var a=this.props.auth.loggedIn,n=this.props.authUser.data&&this.props.authUser.data.username,r=this.props.authUser.data&&this.props.authUser.data.id;return c.a.createElement("nav",{className:"navbar is-transparent",role:"navigation","aria-label":"main navigation"},c.a.createElement("div",{className:"container is-widescreen"},c.a.createElement("div",{className:"navbar-brand"},c.a.createElement("a",{href:"/",className:"navbar-item"},c.a.createElement("img",{src:K.a,style:{marginRight:"10px"}}),V["site-title"][t]),c.a.createElement("button",{ref:function(t){return e.hamburgerRef=t},className:this.state.isHamburgerActive?"button navbar-burger is-active":"button navbar-burger"},c.a.createElement("span",null),c.a.createElement("span",null),c.a.createElement("span",null))),c.a.createElement("div",{className:this.state.isHamburgerActive?"navbar-menu is-active":"navbar-menu"},c.a.createElement("div",{className:"navbar-end"},c.a.createElement("div",{className:"navbar-item"},"en"==t?c.a.createElement("a",{onClick:function(t){e.props.setLanguage("fr")}},"Francais"):c.a.createElement("a",{onClick:function(t){e.props.setLanguage("en")}},"English")," "),1==a?c.a.createElement("div",{className:"navbar-item has-dropdown is-hoverable"},c.a.createElement(B.b,{className:"navbar-link",to:"/users/".concat(r)},c.a.createElement("span",{className:"icon",style:{paddingRight:"8px"}},c.a.createElement("i",{className:"fa fa-user"})),n),c.a.createElement("div",{className:"navbar-dropdown is-boxed"},c.a.createElement(B.b,{className:"navbar-item",to:"/users/".concat(r),activeClassName:"is-active"},c.a.createElement("div",{className:"navbar-content"},V.profile[t])),c.a.createElement("a",{className:"navbar-item",onClick:this.handleLogout},c.a.createElement("div",{className:"navbar-content"},c.a.createElement("button",{className:"button is-danger"},V.logout[t]))))):c.a.createElement("div",{className:"navbar-item"},c.a.createElement("div",{className:"field is-grouped"},c.a.createElement("p",{className:"control"},c.a.createElement("a",{className:"button is-info",href:"/register"},c.a.createElement("span",null,V.register[t]))),c.a.createElement("p",{className:"control"},c.a.createElement("a",{className:"button is-primary ",href:"/login"},c.a.createElement("span",null,V["sign-in"][t])))))))))}}]),a}(l.Component),q=(a(226),function(e){return j.a.locale(e),function(t,a){localStorage.setItem("languagePref",e),t({type:"SET_LANGUAGE",languagePref:e})}}),z={initSettings:function(){var e=localStorage.getItem("languagePref"),t=e||"en";return function(e,a){localStorage.setItem("languagePref",t||"en"),e(q(t))}},setLanguage:q},J=Object(h.b)((function(e){return{auth:e.auth,authUser:e.authUser,settings:e.settings}}),(function(e){return{onLogout:function(){e(Y.onLogout())},checkLocalAuthState:function(){e(Y.checkLocalAuthState())},setLanguage:function(t){e(z.setLanguage(t))}}}))(Q),Z=a(203),X=a.n(Z),$=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).toggleLanguagePref=function(){var t="en"==e.props.settings.languagePref?"fr":"en";e.props.setLanguage(t)},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.settings.languagePref;return c.a.createElement("div",{className:"footer",style:{textAlign:"center",display:"flex",flexDirection:"vertical",alignItems:"center",alignContent:"center",justifyContent:"space-between"}},c.a.createElement("div",{className:"container is-centered"},c.a.createElement("div",{className:"columns is-centered"},c.a.createElement("div",{className:"column is-3 is-centered"},c.a.createElement("p",null,c.a.createElement(B.a,{to:"/about"},V.about[e])),c.a.createElement("p",null,c.a.createElement(B.a,{to:"/support"},V.support[e]))),c.a.createElement("div",{className:"column is-3 is-centered"},c.a.createElement("p",null,c.a.createElement(B.a,{to:"/privacy-policy"},V.privacy_policy[e])),c.a.createElement("p",null,c.a.createElement(B.a,{to:"/terms-of-service"},V.terms_of_service[e]))),c.a.createElement("div",{className:"column is-3 is-centered"},c.a.createElement("p",null,c.a.createElement("a",{onClick:this.toggleLanguagePref,to:"/terms-of-service"},"en"==e?"Urban Applause en Francais":"Urban Applause in English")))),c.a.createElement("div",{style:{textAlign:"center",marginTop:"48px"}},c.a.createElement("p",{className:"is-centered",style:{marginBottom:"12px"}},"Urban Applause \xa92019"),c.a.createElement("a",Object(b.a)({target:"_blank",className:"social-link",href:"https://github.com/flannerykj/urbanapplause-web"},"target","_blank"),c.a.createElement("span",{className:"icon"},c.a.createElement("img",{src:X.a}))))))}}]),a}(l.Component),ee=Object(h.b)((function(e){return{settings:e.settings}}),{setLanguage:q})($),te=a(19),ae=a(106),ne=a.n(ae),re=new ne.a.Endpoint("nyc3.digitaloceanspaces.com"),se=new ne.a.S3({endpoint:re,accessKeyId:y.AWS_ACCESS_KEY_ID,secretAccessKey:y.AWS_SECRET_ACCESS_KEY}),oe=y.AWS_BUCKET_NAME,ie=new(function(){function e(){Object(r.a)(this,e)}return Object(s.a)(e,[{key:"upload",value:function(e,t){return D.upload("/posts/".concat(t,"/images"),e,"images[]")}},{key:"download",value:function(e){var t=this;return new Promise((function(a,n){var r="".concat(t.uploadsDir,"/").concat(e),s={Bucket:oe,Key:r};return se.getObject(s,(function(e,t){return t?a(t.Body):(e&&console.log(e),n(e))}))}))}},{key:"uploadsDir",get:function(){return"uploads"}}]),e}()),le=a(21),ce=a.n(le),ue=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).getOrientationFromImageURL=function(e){return fetch(e).then((function(e){return e.blob().then((function(e){return e.arrayBuffer().then((function(e){return n.getOrientation(e)}))}))})).catch((function(e){return-1}))},n.updateImage=function(e){console.log("updating image");var t=n.props.src,a=n.canvasRef.current,r=a.getContext("2d");if(r.clearRect(0,0,a.width,a.height),a){var s=new Image;n.getOrientationFromImageURL(t).then((function(e){console.log("exif orienation: ",e),s.onload=function(){var t=s.height,o=s.width;switch([5,6,7,8].indexOf(e)>-1?(a.width=t,a.height=o):(a.width=o,a.height=t),e){case 2:r.transform(-1,0,0,1,o,0);break;case 3:r.transform(-1,0,0,-1,o,t);break;case 4:r.transform(1,0,0,-1,0,t);break;case 5:r.transform(0,1,1,0,0,0);break;case 6:r.transform(0,1,-1,0,t,0);break;case 7:r.transform(0,-1,-1,0,t,o);break;case 8:r.transform(0,-1,1,0,0,o);break;default:r.transform(1,0,0,1,0,0)}n.props.fill?r.drawImage(s,(a.width-o)/2,(a.height-t)/2,o,t):r.drawImage(s,0,0,o,t)},s.src=t}))}},n.getOrientation=function(e){var t=new DataView(e);if(65496!=t.getUint16(0,!1))return-2;for(var a=t.byteLength,n=2;n<a;){if(t.getUint16(n+2,!1)<=8)return-1;var r=t.getUint16(n,!1);if(n+=2,65505==r){if(1165519206!=t.getUint32(n+=2,!1))return-1;var s=18761==t.getUint16(n+=6,!1);n+=t.getUint32(n+4,s);var o=t.getUint16(n,s);n+=2;for(var i=0;i<o;i++)if(274==t.getUint16(n+12*i,s))return t.getUint16(n+12*i+8,s)}else{if(65280!=(65280&r))break;n+=t.getUint16(n,!1)}}return-1},n.state={},n.canvasRef=c.a.createRef(),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.updateImage(this.props)}},{key:"componentDidUpdate",value:function(e,t){e.src!=this.props.src&&this.updateImage(this.props)}},{key:"render",value:function(){var e={textAlign:"center",verticalAlign:"middle"};return this.props.height?e.height="".concat(this.props.height,"px"):e.width="100%",c.a.createElement("div",{style:{width:"100%",verticalAlign:"middle"}},c.a.createElement("canvas",{style:e,ref:this.canvasRef,id:"imageCanvas"}))}}]),a}(l.Component),pe=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={imageSrc:null,imageURL:null},n}return Object(s.a)(a,[{key:"componentWillMount",value:function(){var e=this,t=this.props.storageLocation,a=this.props.imageCache[t];if(a)return console.log("cached url: ",a),void this.setState({imageURL:a});ie.download(this.props.storageLocation).then((function(t){var a=new Uint8Array(t),n=new Blob([a],{type:"image/jpeg"}),r=(window.URL||window.webkitURL).createObjectURL(n);e.setState({imageSrc:t,imageURL:r})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return this.state.imageURL?c.a.createElement(ue,{height:this.props.height,fill:!0,src:this.state.imageURL}):c.a.createElement("div",null)}}]),a}(l.Component),me=Object(h.b)((function(e){return{imageCache:e.imageCache}}))(pe),de=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return c.a.createElement("a",{className:"icon-and-text",onClick:this.props.onClick},c.a.createElement("div",{style:{marginRight:"16px",display:"flex",flexDirection:"row"}},c.a.createElement("div",{className:"icon",style:{marginRight:"5px"}},this.props.iconName&&c.a.createElement("i",{className:"".concat(this.props.iconName," ").concat(this.props.iconClassName)}),this.props.iconSrc&&c.a.createElement("img",{className:this.props.iconClassName,src:this.props.iconSrc})),c.a.createElement("div",null,this.props.number)))}}]),a}(l.Component);de.defaultProps={iconName:null,iconSrc:null,iconWidth:23,iconClassName:""};var he=de,fe={contributor:{static:["post:read","profile:read","artist:read","artist:create"],dynamic:{"userEmail:read":function(e){var t=e.authUserId,a=e.emailOwnerId;return!(!t||!a)&&t===a},"post:update":function(e){var t=e.authUserId,a=e.postOwnerId;return!(!t||!a)&&t===a},"post:delete":function(e){var t=e.authUserId,a=e.postOwnerId;return!(!t||!a)&&t===a},"profile:delete":function(e){var t=e.authUserId,a=e.postOwnerId;return!(!t||!a)&&t===a},"profile:update":function(e){var t=e.authUserId,a=e.profileOwnerId;return!(!t||!a)&&t===a}}},admin:{static:[],dynamic:{}},artist:{static:[],dynamic:{}},anonymous:{static:["welcomePage:read","loginPage:read"],dynamic:{}}},ge=function(e){return function(e,t,a,n){if(!t)return!1;var r=e[t];if(!r)return!1;var s=r.static;if(s&&s.includes(a))return!0;var o=r.dynamic;if(o){var i=o[a];return!!i&&i(n)}return!1}(fe,e.role,e.perform,e.data)?e.yes():e.no()};ge.defaultProps={data:null,yes:function(){return null},no:function(){return null}};var Ee=ge,ve=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).onSelect=function(e){console.log("selected: ",e),D.post("/posts/".concat(n.props.post.id,"/flags"),{post_flag:{user_reason:e}}).then((function(e){n.setState({didSubmit:!0,submitting:!1})})).catch((function(e){console.log(e),n.setState({submitting:!1,error:e})}))},n.state={didSubmit:!1,error:null,submitting:!1},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.isActive,n=t.onClose,r=t.lang,s=V.report_content_reason_prompt[r],o=V.report_content_success[r];return console.log("prompt: ",s),c.a.createElement("div",{className:"modal ".concat(a?"is-active":"")},c.a.createElement("div",{className:"modal-background"}),c.a.createElement("div",{className:"modal-card"},c.a.createElement("header",{className:"modal-card-head"},c.a.createElement("p",{className:"modal-card-title"},this.state.didSubmit?o:s),c.a.createElement("button",{onClick:n,className:"delete","aria-label":"close"})),!this.state.didSubmit&&c.a.createElement("section",{className:"modal-card-body"},c.a.createElement("ul",{className:"list is-hoverable"},["suspiciousOrSpam","sensitivePhoto","abusiveOrHarmful","selfHarmOrSuicide"].map((function(t){return c.a.createElement(be,{reason:t,lang:r,onSelect:e.onSelect})})))),c.a.createElement("footer",{className:"modal-card-foot"},c.a.createElement("button",{className:"button",onClick:n},this.state.didSubmit?V.done[r]:V.cancel[r]))))}}]),a}(l.Component),be=function(e){e.lang;var t=e.reason,a=e.onSelect,n=V["report_content_reason_".concat(e.reason)][e.lang];return c.a.createElement("a",{className:"list-item",onClick:function(){return a(t)}},n)},ye=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).toggleDropdown=function(){n.setState({isActive:!n.state.isActive})},n.handleClickOutside=function(e){n.refs.dropdown.contains(e.target)||n.closeDropdown()},n.closeDropdown=function(){n.setState({isActive:!1})},n.onPressReportPost=function(){n.setState({showReportModal:!0})},n.onCloseReportModal=function(){n.setState({showReportModal:!1})},n.state={isActive:!1,showReportModal:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"render",value:function(){var e=this,t=this.props,a=t.onDelete,n=t.authUser,r=t.auth,s=t.post,o=t.lang;return c.a.createElement("div",{className:"comment-options-menu",style:{width:"30px",float:"right"}},c.a.createElement("div",{className:"dropdown ".concat(1==this.state.isActive?"is-active":""),ref:"dropdown"},c.a.createElement("div",{className:"dropdown-trigger"},c.a.createElement("span",{className:"icon",onClick:this.toggleDropdown},c.a.createElement("i",{className:"fa fa-ellipsis-v"}))),c.a.createElement("div",{className:"dropdown-menu",id:"dropdown-menu",role:"menu"},c.a.createElement("div",{className:"dropdown-content",onClick:this.closeDropdown},c.a.createElement(Ee,{role:r&&r.role,perform:"post:delete",data:{authUserId:n&&n.id,postOwnerId:s.UserId},yes:function(){return c.a.createElement("a",{name:"Delete",onClick:a,className:"dropdown-item"},V.delete[o])},no:function(){return c.a.createElement("a",{name:"Flag",onClick:e.onPressReportPost,className:"dropdown-item"},V.report_this_post[o])}})))),c.a.createElement(ve,{post:s,isActive:this.state.showReportModal,onClose:this.onCloseReportModal,lang:o}))}}]),a}(l.Component),Se=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleKeyDown=function(e){37===e.keyCode&&n.showPrevious(),39===e.keyCode&&n.showNext()},n.showNext=function(){var e=n.state.index+1;e<n.props.imageStorageLocations.length&&n.setState({index:e})},n.showPrevious=function(){var e=n.state.index-1;e>=0&&n.setState({index:e})},n.state={index:0},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown,!1)}},{key:"render",value:function(){var e=this.props,t=e.isActive,a=e.imageStorageLocations,n=e.onClose;return c.a.createElement("div",{className:"modal ".concat(t?"is-active":"")},c.a.createElement("div",{class:"modal-background"}),c.a.createElement("h3",{className:"subtitle is-4 has-text-grey-lighter",style:{marginTop:"24px",position:"absolute",top:"0",textAlign:"center"}},this.state.index+1," of ",a.length," images"),c.a.createElement("div",{class:"modal-content",style:{width:"100%",maxWidth:"1000px"}},c.a.createElement("div",{className:"image",style:{display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"space-between",alignItems:"center"}},c.a.createElement("a",{onClick:this.showPrevious},c.a.createElement("span",{className:"icon is-large ".concat(this.state.index>0?"has-text-grey-lighter":"has-text-grey")},c.a.createElement("i",{className:"fa fa-arrow-left ".concat("fa fa-2x")}))),c.a.createElement("div",{className:"image is-centered",style:{textAlign:"center"}},c.a.createElement(me,{storageLocation:a[this.state.index]})),c.a.createElement("a",{onClick:this.showNext},c.a.createElement("span",{className:"icon is-large ".concat(this.state.index<a.length-1?"has-text-grey-lighter":"has-text-grey")},c.a.createElement("i",{className:"fa fa-arrow-right ".concat("fa fa-2x")}))))),c.a.createElement("button",{className:"modal-close is-large",onClick:n,"aria-label":"close"}))}}]),a}(l.Component),Ae=a(204),Oe=a.n(Ae),Ne=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleDelete=function(){n.props.onDelete(n.props.post.id)},n.handleApplaud=function(){n.props.applaudPost(n.props.post.id,n.props.authUser&&n.props.authUser.id)},n.showImageModal=function(){n.setState({isImageModalActive:!0})},n.hideImageModal=function(){n.setState({isImageModalActive:!1})},n.flagPost=function(){},n.state={isImageModalActive:!1},n}return Object(s.a)(a,[{key:"componentWillReceiveProps",value:function(e){}},{key:"render",value:function(){var e=this,t=this.props,a=t.post,n=t.lang,r=t.auth,s=t.authUser,o=a.Location?V["in-city"][n].replace("$$",a.Location.city):"",i=a.PostImages.length?a.PostImages[0]:null;return c.a.createElement("div",{className:"card"},c.a.createElement("a",{onClick:this.showImageModal},c.a.createElement("div",{className:"card-image is-5by3 is-vertical-center"},i&&c.a.createElement(me,{storageLocation:i.storage_location}))),c.a.createElement("div",{className:"card-content"},c.a.createElement("div",{className:"media"},c.a.createElement("div",{className:"media-content"},c.a.createElement("h3",{className:"title is-4"},a.Artists&&a.Artists.length?a.Artists.map((function(e,t){return c.a.createElement(B.a,{to:"/artists/".concat(e.id)},e.signing_name," ",t<a.Artists.count-1?", ":"")})):c.a.createElement("span",null,V["unknown-artist"][n]," "),o),c.a.createElement("h5",{className:"subtitle is-5",style:{verticalAlign:"middle"}},a.Location?[a.Location.street_address,a.Location.city,a.Location.country,a.Location.postal_code].join(", "):"Unknown location"),c.a.createElement("p",null,V["posted-by"][n]," ",c.a.createElement(B.a,{to:"/users/".concat(a.User?a.User.id:0)},a.User?a.User.username:"Unknown"," "),j()(new Date(a.createdAt)).calendar()))," ",c.a.createElement("div",{className:"media-right"},c.a.createElement(ye,{lang:n,auth:r,authUser:s,post:a,onDelete:this.handleDelete,onFlag:this.flagPost}))," ")," ",c.a.createElement("div",{className:"content"},c.a.createElement("div",{style:{marginTop:"24px",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start"}},c.a.createElement(he,{onClick:this.handleApplaud,iconSrc:Oe.a,iconClassName:"applause-icon",number:a.Applause?a.Applause.length:0}),c.a.createElement(he,{onClick:function(){e.props.viewComments(a)},iconName:"far fa-comment fa-lg",number:a.Comments?a.Comments.length:0}))," "))," ",c.a.createElement(Se,{isActive:this.state.isImageModalActive,imageStorageLocations:a.PostImages.map((function(e){return e.storage_location})),onClose:this.hideImageModal}))}}]),a}(l.Component),Te=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).getPosts=function(e){var t=Object(te.a)(Object(te.a)({},e.query),{},{page:n.state.page,limit:10,include:"applause,comments"});return n.setState({error:null,loading:!0,posts:n.state.posts&&t.page>0?n.state.posts:[]}),D.get("/posts",{},t).then((function(e){e.posts?(console.log("json posts: ",e.posts),console.log("state posts: ",n.state.posts),n.setState({loading:!1,posts:e.posts.concat(n.state.posts)})):console.log(e)})).catch((function(e){console.log(e),n.setState({posts:[],loading:!1,error:e})}))},n.loadMorePosts=function(){n.setState({page:n.state.page+1}),n.getPosts(n.props)},n.applaudPost=function(e){var t=n.props.authUser&&n.props.authUser.data&&n.props.authUser.data.id;return D.post("/applause",{applause:{UserId:t,PostId:e}}).then((function(e){if(e.applause){var t=e.applause,a=n.state.posts.map((function(e,a){if(e.id===t.PostId){var n=e.Applause?e.Applause:[];return n.push(t),Object.assign({},e,{Applause:n})}return e}));n.setState({posts:a,loading:!1})}else if(e.deleted){var r=e.deleted;a=n.state.posts.map((function(e,t){if(e.id===r.PostId){var a=e.Applause?e.Applause:[],n=a.indexOf(r);if(a.splice(n,1),n>-1)return Object.assign({},e,{Applause:a})}return e}));n.setState({posts:a,loading:!1})}else console.log(e)})).catch((function(e){n.setState({loading:!1,error:e})}))},n.selectPost=function(e){n.props.history.push("/posts/".concat(e))},n.deletePost=function(e){n.setState({confirmDeletePost:e})},n.onConfirmDeletePost=function(){if(n.state.confirmDeletePost)return D.delete("/posts/"+n.state.confirmDeletePost,{}).then((function(e){var t=e.post;if(!t)throw new Error;var a=n.state.posts.filter((function(e,a){return e.id!==t.id}));n.setState({posts:a,loading:!1,confirmDeletePost:null})})).catch((function(e){n.setState({loading:!1,error:e})}))},n.viewComments=function(e){n.props.history.push("/posts/".concat(e.id,"#comments"))},n.cancelDeletePost=function(){n.setState({confirmDeletePost:null})},n.state={page:0,loading:!1,error:null,posts:[],confirmDeletePost:null},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getPosts(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.query!==e.query&&(console.log("next query: ",e.query),this.getPosts(e))}},{key:"render",value:function(){var e=this,t=this.props.settings.languagePref;if(this.state.loading&&0==this.state.page)return c.a.createElement("div",{className:"postlist-container"},V.loading[t],"...");if(this.state.error)return c.a.createElement("article",{className:"message is-danger"},c.a.createElement("div",{className:"message-body"},this.state.error));var a=this.state.posts.map((function(a){return c.a.createElement(Ne,{auth:e.props.auth,selectPost:e.selectPost,viewComments:e.viewComments,applaudPost:e.applaudPost,key:a.id,post:a,onSearchKeyChange:e.props.onSearchKeyChange,onDelete:e.deletePost,authUser:e.props.authUser&&e.props.authUser.data,settings:e.props.settings,showSearchBar:!0,showAddButton:!0,lang:t})}));return c.a.createElement("div",null,this.props.query.search&&this.props.query.search.length?c.a.createElement("p",{style:{marginBottom:"24px"}},V["showing-results-for"][t]," ",c.a.createElement("b",null,c.a.createElement("i",null,this.props.query.search))):"",!this.state.posts.length&&c.a.createElement("div",{className:"container",style:{textAlign:"center"}},V.no_post_results[t]),a,this.canLoadMore&&c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement("button",{className:"button ".concat(this.props.loading?"is-loading":""),onClick:this.loadMorePosts},V.load_more[t])),c.a.createElement("div",{className:"modal ".concat(this.state.confirmDeletePost?"is-active":"")},c.a.createElement("div",{className:"modal-background"}),c.a.createElement("div",{className:"modal-card"},c.a.createElement("header",{className:"modal-card-head"},c.a.createElement("p",{className:"modal-card-title"},V["confirm-delete-post-title"][t]),c.a.createElement("button",{className:"delete","aria-label":"close",onClick:this.cancelDeletePost})),c.a.createElement("section",{className:"modal-card-body"},V["confirm-delete-post-body"][t]),c.a.createElement("footer",{className:"modal-card-foot"},c.a.createElement("button",{className:"button",onClick:this.cancelDeletePost},V.cancel[t]),c.a.createElement("button",{className:"button is-danger",onClick:this.onConfirmDeletePost},V.delete[t]))),c.a.createElement("button",{className:"modal-close is-large","aria-label":"close",onClick:this.cancelDeletePost})))}},{key:"itemLimitPerPage",get:function(){return 10}},{key:"canLoadMore",get:function(){return this.state.posts.length%this.itemLimitPerPage==0&&this.state.posts.length>0}}]),a}(l.Component),we=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).clearText=function(){e.setState({searchKey:""}),e.props.onChange("")},e}return Object(s.a)(a,[{key:"searchKeyChangeHandler",value:function(e){var t=e.target.value;this.setState({searchKey:t}),this.props.onChange(t)}},{key:"render",value:function(){return c.a.createElement("div",{className:"field "},c.a.createElement("div",{className:"control is-expanded has-icons-left has-icons-right search-bar-field"},c.a.createElement("input",{className:"input search-bar",type:"text",placeholder:this.props.placeholder||"Enter a work description or artist name",value:this.props.searchKey,onChange:this.searchKeyChangeHandler.bind(this)}),c.a.createElement("span",{className:"icon is-small is-left"},c.a.createElement("i",{className:"fa fa-search"})),c.a.createElement("span",{className:"icon is-right clear",onClick:this.clearText},c.a.createElement("a",{className:"delete",style:{cursor:"pointer"},onClick:this.clearText}))))}}]),a}(c.a.Component),Ce=(l.Component,function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).openMap=function(){n.setState({mapView:!0})},n.closeMap=function(){n.setState({mapView:!1})},n.state={searchKey:"",mapView:!1},n}return Object(s.a)(a,[{key:"searchKeyChangeHandler",value:function(e){this.setState({searchKey:e})}},{key:"render",value:function(){var e=this.props.settings.languagePref,t=this.props.auth;return console.log("auth: ",t),c.a.createElement("div",null,c.a.createElement("section",{className:"section"},c.a.createElement("div",{className:"columns"},c.a.createElement("div",{className:"column is-6"},c.a.createElement(we,{searchKey:this.state.searchKey,onChange:this.searchKeyChangeHandler.bind(this),placeholder:V["search-for"][e]})),c.a.createElement("div",{className:"column"},c.a.createElement(B.a,{className:"button is-primary is-expanded",style:{width:"100%"},to:"/posts/new"},"+ ",V["add-new-post"][e])))),c.a.createElement("div",{className:"is-centered",style:{}},c.a.createElement(Te,{lang:e,authUser:this.props.authUser,auth:t,query:{search:this.state.searchKey},history:this.props.history,settings:this.props.settings})))}}]),a}(l.Component)),Ie=Object(h.b)((function(e){return{auth:e.auth,authUser:e.authUser,settings:e.settings}}),(function(e){return{}}))(Ce),Re=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("h1",null,"New Section"))}}]),a}(l.Component),ke=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.user_id,a=e.username;return c.a.createElement("div",{className:"user-link"},c.a.createElement("span",{className:"icon"},c.a.createElement("i",{className:"fa fa-user"})),c.a.createElement(B.a,{to:"/users/".concat(t)},a))}}]),a}(l.Component),Ue=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).startEdit=function(){n.setState({isEditing:!0,editedText:n.props.comment.content})},n.cancelEdit=function(){n.setState({isEditing:!1,editedText:n.props.comment.text})},n.saveEdit=function(){n.setState({isEditing:!1}),n.props.submitEdit(n.state.editedText)},n.onChangeText=function(e){n.setState({editedText:e.target.value})},n.handleDelete=function(){var e=n.props.comment;n.props.onDelete(e.id,e.work_id)},n.state={isEditing:!1,editedText:null},n}return Object(s.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({editedText:this.props.comment.text})}},{key:"render",value:function(){var e=this.props,t=e.comment,a=(e.auth,e.authUser);console.log("up comment: ",t);var n=j()(new Date(t.createdAt)).calendar();return 1==this.state.isEditing?c.a.createElement("div",null,c.a.createElement("input",{type:"text",value:this.state.editedText,onChange:this.onChangeText,className:"input"}),c.a.createElement("button",{className:"button",onClick:this.saveEdit},this.props.saveEditCopy),c.a.createElement("button",{className:"button",onClick:this.cancelEdit},this.props.cancelEditCopy)):c.a.createElement("div",null,c.a.createElement("div",{className:"columns"},c.a.createElement("div",{className:"column is-narrow"},c.a.createElement(ke,{user_id:t.UserId,username:t.User&&t.User.username}),c.a.createElement("small",null," ",n),":",c.a.createElement("div",null,t.content)),a&&a.id==t.UserId?c.a.createElement("div",{className:"column ",style:{float:"right"}},c.a.createElement(ye,{onEdit:this.startEdit,onDelete:this.handleDelete})):""))}}]),a}(l.Component),je=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).updateNewCommentText=function(e){n.setState({newCommentText:e.target.value})},n.onEnterSubmit=function(e){13==e.keyCode&&n.submitComment()},n.getComments=function(e){return n.setState({loading:!0}),D.get("/posts/".concat(e.post.id,"/comments"),{}).then((function(e){e.comments?n.setState({loading:!1,comments:e.comments}):console.log(e)})).catch((function(e){console.log(e),n.setState({comments:[],loading:!1,error:e})}))},n.submitComment=function(){var e=n.state.newCommentText,t=n.props.authUser.data&&n.props.authUser.data.id;return t?n.props.query.postId?D.post("/posts/".concat(n.props.post.id,"/comments"),{comment:{UserId:t,content:e}}).then((function(e){if(e.comment){var t=Object.assign({},e.comment,{Post:n.props.post,user:n.props.authUser.data});n.setState({newCommentText:"",comments:n.state.comments.concat([t]),loading:!1})}else console.log(e)})).catch((function(e){n.setState({loading:!1,error:e})})):void console.log("no post id"):(n.setState({authModalActive:!0}),void console.log("not logged in : ",n.props.auth,n.props.authUser.data))},n.editComment=function(e,t){return D.put("/comments/"+e,{comment:{content:t}}).then((function(e){if(e.comment){var t=n.state.comments.map((function(t,a){return t.id===e.comment.id?e.comment:t}));n.setState({comments:t,loading:!1})}})).catch((function(e){n.setState({loading:!1,error:e})}))},n.deleteComment=function(e){return D.delete("/comments/"+e,{}).then((function(e){if(e.comment){var t=n.state.comments.filter((function(t,a){return t.id!==e.comment.id}));n.setState({comments:t,loading:!1})}})).catch((function(e){n.setState({loading:!1,error:e})}))},n.toggleShowAllComments=function(){n.setState({showAllComments:!n.state.showAllComments})},n.state={newCommentText:"",showAllComments:!1,loading:!1,error:null,comments:[],authModalActive:!1},n}return Object(s.a)(a,[{key:"componentWillMount",value:function(){this.getComments(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.post!==e.post&&this.getComments(e)}},{key:"render",value:function(){var e=this,t=this.state.comments,a=this.props.lang,n=c.a.createElement("div",{style:{paddingTop:"20px"},className:"field has-addons"},c.a.createElement("div",{className:"control is-expanded"},c.a.createElement("input",{type:"text",value:this.state.newCommentText,onChange:this.updateNewCommentText,className:"input",placeholder:V["comment-cta"][a],onKeyUp:this.onEnterSubmit})),c.a.createElement("div",{className:"control"},c.a.createElement("button",{className:"button",onClick:this.submitComment},V["submit-new"][a])));console.log("comments from list: ",t);var r=this.state.showAllComments?t.length:3,s=t.slice(0,r);if(s){return c.a.createElement("div",null,s.map((function(t,n){return c.a.createElement(Ue,{lang:a,comment:t,key:n,onDelete:e.deleteComment,submitEdit:function(a){return e.editComment(t,a)},deleteCopy:V.delete[a],saveEditCopy:V["save-changes"][a],cancelEditCopy:V.cancel[a],auth:e.props.auth,authUser:e.props.authUser})})),s.length<t.length?c.a.createElement("small",null,c.a.createElement(B.a,{onClick:this.toggleShowAllComments},"Show all ",t.length," comments ")):c.a.createElement("span",null,s.length>3?c.a.createElement("small",null,c.a.createElement("a",{onClick:this.toggleShowAllComments},"Show fewer comments")):""),this.props.auth.loggedIn?n:c.a.createElement("div",null,c.a.createElement(B.a,{to:"/login"},V["sign-in"][a])," ",V.or[a]," ",c.a.createElement(B.a,{href:"/register"},V.register[a])," ",V["to-comment"][a]))}return c.a.createElement("div",null,V.loading[a])}}]),a}(l.Component),_e=Object(h.b)((function(e){return{authUser:e.authUser,auth:e.auth,settings:e.settings}}),{})(je);var Pe=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.label,a=e.value,n=e.children,r=e.emptyText;return c.a.createElement("div",null,t&&c.a.createElement("label",{className:"label"},t),a&&c.a.createElement("p",null,a),n&&c.a.createElement("p",null,n),!n&&!a&&c.a.createElement("p",null," ",c.a.createElement("i",null,r)),c.a.createElement("br",null))}}]),a}(l.Component);Pe.defaultProps={value:null,emptyText:"",children:null};var De=Pe,Le=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).showModal=function(){n.setState({galleryModalActive:!0})},n.hideModal=function(){n.setState({galleryModalActive:!1})},n.state={galleryModalActive:!1},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.lang,t=this.props.post,a=t&&t.PostImages[0];return c.a.createElement("div",{className:"container"},a&&c.a.createElement(Se,{isActive:this.state.galleryModalActive,imageStorageLocations:[a.storage_location],onClose:this.hideModal}),c.a.createElement("div",{style:{height:"300px",marginBottom:"24px"}},a&&c.a.createElement("a",{onClick:this.showModal},c.a.createElement(me,{storageLocation:a.storage_location,height:300}))),c.a.createElement(De,{label:V["art-by"][e],emptyText:V["unknown-artist"][e]},t.Artists&&t.Artists.length?t.Artists.map((function(e,a){return c.a.createElement(B.a,{to:"/artists/".concat(e.id)},e.signing_name," ",a<t.Artists.count-1?", ":"")})):c.a.createElement("span",null,V["unknown-artist"][e]," ")),c.a.createElement(De,{label:V["published-by"][e],emptyText:"Unknown"},t.User&&c.a.createElement("a",{href:"/users/".concat(t.User.id)},t.User.username)),c.a.createElement(De,{label:"Posted on"},j()(new Date(t.createdAt)).calendar()),c.a.createElement(De,{label:"Description"},t.description))}}]),a}(l.Component),Me=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).closeForm=function(){n.setState({isEditing:!1})},n.openForm=function(){n.setState({isEditing:!0})},n.handleUpdate=function(e,t){n.props.onUpdate(e,t)},n.getPost=function(e){return n.setState({loading:!0}),D.get("/posts/".concat(e),{},{}).then((function(e){console.log(e),e.post?n.setState({loading:!1,post:e.post}):console.log(e)})).catch((function(e){console.log(e),n.setState({post:null,loading:!1,error:e})}))},n.state={post:null,isEditing:!1,loading:!1,error:null},n}return Object(s.a)(a,[{key:"componentWillMount",value:function(){this.getPost(this.props.match.params.id)}},{key:"componentWillReceiveProps",value:function(e){this.props.match.params.id!==e.match.params.id&&this.getPost(e.match.params.id)}},{key:"render",value:function(){var e=this.props.settings.languagePref;return this.state.loading?c.a.createElement("div",{className:"postlist-container"},V.loading[e],"..."):this.state.isEditing?c.a.createElement("div",null,c.a.createElement(Re,{post:this.props.post.data,onSubmit:this.handleUpdate,onCancel:this.closeForm})):this.state.error?c.a.createElement("article",{className:"message is-danger"},c.a.createElement("div",{className:"message-body"},this.state.error)):this.state.post?c.a.createElement("div",null,c.a.createElement(Le,{post:this.state.post,lang:this.props.settings.languagePref}),c.a.createElement("hr",null),c.a.createElement("h3",{className:"title is-6",id:"comments",name:"comments",ref:"comments"},V.comments[e]),c.a.createElement(_e,{post:this.state.post,lang:e,auth:this.props.auth,authUser:this.props.authUser,history:this.props.history,query:{postId:this.state.post.id}})):c.a.createElement("div",{className:"container",style:{textAlign:"center"}},V.no_post_results[e])}}]),a}(l.Component),xe=Object(h.b)((function(e){return{auth:e.auth,authUser:e.authUser,settings:e.settings}}),(function(e){return{}}))(Me),Fe=a(54),We=a.n(Fe);var Ge=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleFocus=function(){n.props.removeImage&&n.setState({isFocused:!0})},n.handleBlur=function(){n.setState({isFocused:!1})},n.state={isFocused:!1},n}return Object(s.a)(a,[{key:"render",value:function(){console.log("rendering");var e=this.props,t=(e.lang,e.imageSource),a=e.index,n=this.state.isFocused?{backgroundColor:"black"}:{};return c.a.createElement("div",{key:a,style:Object(te.a)(Object(te.a)(Object(te.a)({},{overflow:"hidden",marginRight:"8px",marginBottom:"8px",display:"inline-block",position:"relative",textAlign:"center",verticalAlign:"middle"}),n),this.props.containerStyle),onMouseOver:this.handleFocus,onMouseOut:this.handleBlur},c.a.createElement("div",{onClick:this.props.removeImage,style:{verticalAlign:"middle",color:"white",position:"absolute",left:"0",right:"0",marginTop:"35px",zIndex:"101",display:this.state.isFocused?"inline-block":"none"}},c.a.createElement("a",{style:{color:"white"}},c.a.createElement("span",{className:"icon has-text"},c.a.createElement("i",{name:"fa fa-trash",color:"white"}),"Remove"))),c.a.createElement("div",{style:{zIndex:"100",backgroundColor:"black",opacity:"0.5",width:"100%",height:"100%",position:"absolute",left:"0",display:this.state.isFocused?"inline":"none"}}),c.a.createElement("div",{style:{objectFit:"cover",width:"100%",height:"100%",zIndex:"99"}},c.a.createElement(ue,{fill:!1,height:null,src:t})))}}]),a}(l.Component),Ye=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).shouldShowMatches=function(){return n.state.query.length>0&&!n.state.isCreatingNew&&n.activeElement==n.refs.input_box.focused},n.onInputChange=function(e){n.props.onChangeQuery(e.target.value),n.setState({query:e.target.value})},n.setCreatingNew=function(){n.refs.input_box.focus(),n.props.onChangeSelectionMode("create"),n.setState({isCreatingNew:!0})},n.onKeyDown=function(e){var t=n.props.options,a=n.state.highlightedOptionIndex;13==e.keyCode&&(e.preventDefault(),a==t.length?n.setCreatingNew():n.onSelectOption(t[a],a)),40==e.keyCode&&(console.log("down key pressed ",a),a<n.props.options.length&&n.setState({highlightedOptionIndex:n.state.highlightedOptionIndex+1})),38==e.keyCode&&a>0&&n.setState({highlightedOptionIndex:a-1})},n.onSelectOption=function(e,t){n.props.onSelectOption(e)},n.state={query:"",highlightedOptionIndex:0,matchList:[],isCreatingNew:!1},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props.options,a=this.shouldShowMatches();return c.a.createElement("div",{className:1==a?"dropdown is-active select-input":"dropdown select-input",style:{width:"100%"}},c.a.createElement("div",{className:"control",style:{width:"100%"}},c.a.createElement("div",{className:"dropdown-trigger select-input"},c.a.createElement("input",{className:"input",type:"text",ref:"input_box",value:this.state.query,onChange:this.onInputChange,onKeyDown:this.onKeyDown,placeholder:this.props.placeholder}))),c.a.createElement("div",{className:"dropdown-menu"},c.a.createElement("div",{className:"dropdown-content"},t.map((function(a,n){return c.a.createElement(B.a,{key:n,className:e.state.highlightedOptionIndex==n?"dropdown-item is-active":"dropdown-item",onClick:function(t){return e.onSelectOption(a,n)}},t[n].name)})),c.a.createElement("hr",{className:"dropdown-divider"}),c.a.createElement("a",{className:this.state.highlightedOptionIndex===t.length?"dropdown-item is-active":"dropdown-item",onClick:this.props.onSelectCreateNew},this.props.createNewText))))}}]),a}(l.Component),He=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return"complete"==this.props.status?c.a.createElement("span",{className:"tag is-success"},this.props.successText,c.a.createElement("span",{className:"delete",onClick:this.props.onClear})):"uploading"==this.props.status?c.a.createElement("span",{className:"tag is-warning"},"Loading ",this.props.successText,c.a.createElement("a",{className:"is-loading"})):null==this.props.status?c.a.createElement("span",{className:"tag is-danger"},this.props.dangerText||"None selected"):c.a.createElement("span",null)}}]),a}(l.Component),Ke=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).setUnknown=function(){n.props.onChange("artistInputType","unknown")},n.onCreateArtist=function(e){n.props.onChange("artistInputType","create"),n.props.onChange("ArtistId",e.id),n.props.onChange("artist_signing_name",e.name)},n.clearInput=function(){n.props.onChange("artistInputType","select"),n.props.onChange("artist_signing_name",""),n.props.onChange("ArtistId",null)},n.onSelectArtist=function(e){n.props.onChange("artistInputType","select"),n.props.onChange("ArtistId",e.id),n.props.onChange("artist_signing_name",e.name)},n.getArtistMatches=function(e){n.setState({loading:!0}),D.get("/artists?search="+e).then((function(e){n.setState({artistMatches:e.artists,loading:!1})})).catch((function(e){n.setState({error:e})}))},n.changeSelectionMode=function(e){n.props.onChange("artistInputType",e)},n.state={artistMatches:[],loading:!1,error:null},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props.lang,a=this.props.artistName;console.log("artistName: ",a),console.log("inputType: ",this.props.artistInputType);var n="";switch(this.props.artistInputType){case"create":n=V["artist-input-type-new"][t];break;case"unknown":n=V["artist-input-type-unknown"][t];break;case"select":n=a}var r=this.props.artistName&&this.props.artistId?{name:this.props.artistName,id:this.props.artistId}:null;return c.a.createElement("div",{className:"form-section"},c.a.createElement("div",{className:"field is-grouped"},c.a.createElement("label",{className:"label",style:{marginRight:"8px"}},V.artist[t],":"),c.a.createElement(He,{successText:n,dangerText:V["none-selected"][t],onClear:this.clearInput,status:this.props.artistId||"select"!=this.props.artistInputType?"complete":null})),"select"===this.props.artistInputType&&!this.props.artistId&&c.a.createElement(Ye,{createNewText:V["create-new"][this.props.lang],options:this.state.artistMatches.map((function(e){return{name:e.signing_name,id:e.id}})),selectedOption:r,onSelectOption:this.onSelectArtist,placeholder:V["search-for-artist"][t],onChangeQuery:this.getArtistMatches,onSelectCreateNew:function(){return e.changeSelectionMode("create")}}),"create"==this.props.artistInputType&&c.a.createElement("div",{className:"control",style:{width:"100%"}},c.a.createElement("input",{className:"input",type:"text",ref:"input_box",value:this.props.artistName,onChange:function(t){return e.props.onChange("artist_signing_name",t.target.value)},placeholder:"Name of artist"})),this.props.artistId||"select"!=this.props.artistInputType?"":c.a.createElement("a",{onClick:this.setUnknown},V["artist-input-type-unknown-cta"][t]))}}]),a}(l.Component),Be=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).handleChange=function(t){e.props.onChange(e.props.name,t.target.value)},e.onFocus=function(t){"function"===typeof e.props.onFocus&&e.props.onFocus(e.props.name)},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.label,a=e.refName,n=e.name,r=e.idName,s=e.className,o=e.type,i=e.title,l=e.value,u=(e.defaultValue,e.onChange,e.onKeyUp),p=e.errorMsg,m=e.validationMsg,d=e.placeholder,h=(e.disabled,e.icon),f=e.lang,g=null,E=null;p&&p.length>0&&(g=!0),m&&m.length>0&&(E=!0);var v=c.a.createElement("input",{type:o,ref:a||"",id:r,value:l,name:n,title:i||"",onChange:this.handleChange,onFocus:this.onFocus,placeholder:d||"",onKeyUp:u||function(){},onKeyDown:this.props.onKeyDown,autoComplete:this.props.disableAutocomplete?"off":"on",className:"input ".concat(g?"is-danger":""," ").concat(E?"is-success":""," ").concat(s)});return"textarea"==o&&(v=c.a.createElement("textarea",{ref:a,id:r,onFocus:this.onFocus,className:o,onChange:this.handleChange,defaultValue:l})),c.a.createElement("div",{className:"field is-narrow"},t?c.a.createElement("label",{className:"label ",htmlFor:a},t," "):"",c.a.createElement("div",{className:"control ".concat(g||E?"has-icons-right":""," ").concat(h?"has-icons-left":"")},v,h?c.a.createElement("span",{className:"icon is-small is-left"},c.a.createElement("i",{className:"fa fa-".concat(h)})):"",g||E?c.a.createElement("span",{className:"icon is-small is-right"},c.a.createElement("i",{className:"fa fa-".concat(g?"warning":"check")})):""),p&&V["auth-errors"][p]?c.a.createElement("p",{className:"help is-danger"},V["auth-errors"][p][f]):"")}}]),a}(l.Component),Ve=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).placeMarker=function(e,t){new window.google.maps.Marker({position:e,map:t});t.panTo(e)},n.state={map:null,imageData:null},n}return Object(s.a)(a,[{key:"componentWillReceiveProps",value:function(e){var t=e.isScriptLoaded,a=e.isScriptLoadSucceed,n=window.google;if(t&&!this.props.isScriptLoaded)if(a){var r=new n.maps.Map(this.refs.map,{center:{lat:43.6532,lng:-79.3832},zoom:12}),s=this.refs.locationQuery,o=new n.maps.places.SearchBox(s);r.controls[n.maps.ControlPosition.TOP_LEFT].push(s);var i=function(e){this.props.onLocationChange(e)}.bind(this),l=[],c=new n.maps.Geocoder;n.maps.event.addListener(r,"click",(function(e){c.geocode({latLng:e.latLng},(function(e,t){if(t==n.maps.GeocoderStatus.OK&&e[0]){var a=e[0];i(a),l.forEach((function(e){e.setMap(null)})),l.push(new n.maps.Marker({map:r,title:a.name,position:a.geometry.location}))}}))})),r.addListener("bounds_changed",(function(){o.setBounds(r.getBounds())})),r.addListener("click",(function(e){console.log(e)})),o.addListener("places_changed",(function(){var e=o.getPlaces();if(0!=e.length){l.forEach((function(e){e.setMap(null)})),l=[];var t=new n.maps.LatLngBounds;e.forEach((function(e){e.geometry?(i(e),l.push(new n.maps.Marker({map:r,title:e.name,position:e.geometry.location})),e.geometry.viewport?t.union(e.geometry.viewport):t.extend(e.geometry.location)):console.log("Returned place contains no geometry")})),r.fitBounds(t)}}))}else this.props.onError()}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("div",{className:"control"},c.a.createElement("input",{ref:"locationQuery",className:"controls input",type:"text",placeholder:this.props.searchPlaceholder,style:{width:"60%"}})),c.a.createElement("div",{ref:"map",style:{width:"100%",zIndex:"10",height:"400px",paddingLeft:"calc(0.625em - 1px)",paddingRight:"calc(0.625em - 1px)"}}))}}]),a}(c.a.Component),Qe=We()(["https://maps.googleapis.com/maps/api/js?key=".concat(y.GOOGLE_MAPS_API_KEY,"&libraries=places&language=").concat(localStorage.getItem("languagePref"))])(Ve),qe=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).handleLocationChange=function(t){console.log("location change: ",t),e.props.onChange("google_place",t)},e.handleClear=function(){e.props.onChange("google_place",{})},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.lang,t=this.props.place&&Object.keys(this.props.place).length>0;return c.a.createElement("div",{className:"form-section"},c.a.createElement("div",{className:"field is-grouped"},c.a.createElement("label",{className:"label",style:{marginRight:"8px"}},V["location-field-label"][e]),c.a.createElement(He,{successText:this.props.place?this.props.place.formatted_address:"",onClear:this.handleClear,status:t?"complete":null,dangerText:V["none-selected"][e]})),1==t?"":c.a.createElement(Qe,{lang:e,onLocationChange:this.handleLocationChange,place:this.props.place,searchPlaceholder:V["search-for-location"][e],onError:function(){}}))}}]),a}(l.Component),ze=a(205),Je=a.n(ze),Ze=(a(618),a(206)),Xe=a.n(Ze),$e=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).handleDayChange=function(t){e.props.onChange(t)},e.handleSetNow=function(){e.props.onChange(null)},e.handleClear=function(){e.props.onChange(null)},e}return Object(s.a)(a,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e=this.props.lang,t=this.props.date?this.props.date:null;console.log("day: ",t);var a=t?t.format("MMM Do YY"):"";return console.log("success text: ",a),c.a.createElement("div",{className:"form-section"},c.a.createElement("div",{className:"field is-grouped"},c.a.createElement("label",{className:"label",style:{marginRight:"8px"}},V["photo-date-field-label"][e],": "),c.a.createElement(He,{successText:a,dangerText:V["none-selected"][e],onClear:this.handleClear,status:t?"complete":null})),t?"":c.a.createElement(Je.a,{onDayClick:this.handleDayChange,locale:e,localeUtils:Xe.a}))}}]),a}(l.Component),et=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).removeImage=function(e){console.log("remove"),n.props.removeImage(e)},n.state={redirect:null},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props.lang;if(this.state.redirect)return c.a.createElement(I.a,{to:this.state.redirect});var a=this.props.newPost;return console.log("photo date: ",a.photo_date),c.a.createElement("div",null,c.a.createElement("h1",{className:"title is-1"},V["new-post"][t]),c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("div",{className:"field ".concat(this.props.files.length>0?"has-addons":"")},c.a.createElement("p",{className:"control"},c.a.createElement("span",{className:"file"},c.a.createElement("label",{className:"file-label"},c.a.createElement("input",{className:"file-input",type:"file",name:"photos",ref:"photos",onChange:this.props.onSelectImages,multiple:!0}),c.a.createElement("span",{className:"file-cta"},c.a.createElement("span",{className:"file-icon"},c.a.createElement("i",{className:"fa fa-upload"})),c.a.createElement("span",{className:"file-label"},V["image-upload-cta"][t])))))),c.a.createElement("div",{style:{width:"100%"}},this.props.fileURLs.map((function(a,n){return c.a.createElement(Ge,{containerStyle:{height:"100px",width:"100px",borderRadius:"8px"},lang:t,imageSource:a,index:n,removeImage:function(){return e.removeImage(n)}})})))),c.a.createElement("hr",null),this.props.files.length?c.a.createElement("div",null,c.a.createElement(Ke,{lang:t,artistInputType:a.artistInputType,artistName:a.artist_signing_name||"",artistId:a.ArtistId,onChange:function(t,a){e.props.updateNewPost(t,a)}}),c.a.createElement(qe,{lang:t,onChange:function(t,a){e.props.updateNewPost(t,a)},place:a.google_place}),c.a.createElement($e,{lang:t,onChange:function(t){e.props.updateNewPost("photo_date",t)},date:a.photo_date}),c.a.createElement(Be,{label:V["description-field-label"][t],type:"textarea",name:"description",ref:"description",value:a.description,onChange:function(t,a){e.props.updateNewPost(t,a)},placeholder:V["description-input-placeholder"][t]}),c.a.createElement("hr",null),c.a.createElement("div",null,this.props.loading?c.a.createElement("div",{style:{textAlign:"center"}},c.a.createElement("a",{className:"button is-loading"},"Loading"),c.a.createElement("br",null)):c.a.createElement("div",null,c.a.createElement("button",{className:"button is-primary",onClick:this.props.onSubmit},V["submit-new"][t]),c.a.createElement("button",{className:"button",onClick:this.props.onCancel},V.cancel[t])))):""))}}]),a}(l.Component),tt=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).onSelectImages=function(e){var t=e.target.files;Array.from(t).forEach((function(e){n.getBase64(e)}));var a=[],r=n.setGooglePlaceFromCoords;Array.from(t).map((function(e,t){ce.a.getData(e,(function(){var e,t=ce.a.getTag(this,"GPSLongitude"),s=ce.a.getTag(this,"GPSLongitudeRef"),o=ce.a.getTag(this,"GPSLatitude"),i=ce.a.getTag(this,"GPSLatitudeRef"),l=ce.a.getTag(this,"DateTime"),c=function(e,t,a,n){if(e&&t&&a&&n){var r=e[0]+e[1]/60+e[2]/3600;"W"==t&&(r*=-1);var s=a[0]+a[1]/60+a[2]/3600;return"S"==n&&(s*=-1),{lng:r,lat:s}}return null}(t,s,o,i);l&&function(e){if(!n.state.newPost.photo_date){var t=Object.assign({},n.state.newPost,{photo_date:e});n.setState({newPost:t})}}((e=l,j()(e,"YYYY:MM:DD HH:MM:SS"))),c&&r(c.lng,c.lat),a.push({DateTime:l,coords:c})}))})),n.setState({files:Array.from(t)})},n.getBase64=function(e){var t=new FileReader;t.onload=function(){!function(e){var t=n.state.fileURLs;t.push(e),n.setState({fileURLs:t})}(t.result)},t.onerror=function(e){console.log("Error: ",e)},t.readAsDataURL(e)},n.onSubmit=function(){var e=n.state.newPost;if(e.google_place){var t={};e.google_place.address_components.forEach((function(e){e.types.forEach((function(a){var n=t[a]?t[a]:[];n.push(e.long_name),t[a]=n}))}));var a=t.postal_code&&t.postal_code.join(", "),r=t.locality&&t.locality.join(", "),s=t.neightbourhood&&t.neighbourhood.join(", "),o=t.street_number&&t.street_number.join(", "),i=t.route&&t.route.join(", "),l=t.country&&t.country.join(", "),c="";o&&i&&(c+="".concat(o," ").concat(i)),s&&(c.length>1?c+=", ".concat(s):c=s),e.location={coordinates:{longitude:e.google_place.geometry.location.lng(),latitude:e.google_place.geometry.location.lat()},street_address:c,city:r,country:l,postal_code:a,google_place_id:e.google_place.place_id},e.UserId=n.props.authUser.data&&n.props.authUser.data.id,D.post("/posts",{post:e}).then((function(e){e.post&&D.upload("/posts/".concat(e.post.id,"/images"),n.state.files,"images[]").then((function(t){if(console.log("res: ",t),n.state.files.length===t.images.length){for(var a={},r=0;r<t.images.length;r++){var s=t.images[r].storage_location,o=window.URL.createObjectURL(n.state.files[r]);a[s]=o}console.log("cache: ",a),n.props.addImagesToCache(a)}else console.log("files length: ",n.state.files.length);n.setState({createdPost:e.post,loading:!1})}))})).catch((function(e){n.setState({loading:!1,error:e})}))}else n.setState({errors:{location:"Location required"}})},n.setGooglePlaceFromCoords=function(e,t){var a=new window.google.maps.Geocoder,r={lat:t,lng:e};a.geocode({location:r},(function(e,t){e&&e.length&&function(e){if(!n.state.newPost.google_place){var t=n.state.newPost;t.google_place=e,n.setState({newPost:t})}}(e[0])}))},n.removeImage=function(e){var t=n.state.files;t.splice(e,1);var a=n.state.fileURLs;a.splice(e,1),n.setState({files:t,fileURLs:a})},n.updateNewPost=function(e,t){var a=n.state.newPost;a[e]=t,n.setState({newPost:a})},n.state={loading:!1,error:null,files:[],fileURLs:[],newPost:{UserId:null,description:"",google_place:null,photo_date:"",ArtistId:null,artist_signing_name:"",artistInputType:"select",location:{}},createdPost:null,errors:{}},n}return Object(s.a)(a,[{key:"componentWillUpdate",value:function(e,t){!this.state.createdPost&&t.createdPost&&this.props.history.push("/")}},{key:"render",value:function(){var e=this,t=this.props.settings.languagePref;return c.a.createElement(et,{onCancel:function(){e.setState({files:[],fileURLs:[]})},files:this.state.files,fileURLs:this.state.fileURLs,newPost:this.state.newPost,loading:this.state.loading,error:this.state.error,onSubmit:this.onSubmit,removeImage:this.removeImage,updateNewPost:this.updateNewPost,onSelectImages:this.onSelectImages,lang:t,history:this.props.history,authUser:this.props.authUser})}}]),a}(l.Component),at=Object(h.b)((function(e){return{auth:e.auth,authUser:e.authUser,settings:e.settings}}),{addImagesToCache:function(e){return function(t,a){return t({type:"ADD_IMAGES",images:e})}}})(We()(["https://maps.googleapis.com/maps/api/js?key=".concat(y.GOOGLE_MAPS_API_KEY,"&libraries=places&language=").concat(localStorage.getItem("languagePref"))])(tt)),nt=(a(135),function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.artist,t="";return e.first_name&&(t+=e.first_name),e.last_name&&(t+=""+e.last_name),t&&0!==t.count||(t="Name unknown"),c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-content"},c.a.createElement("div",{className:"media"},c.a.createElement("div",{className:"media-content"},c.a.createElement("h3",{className:"title is-4"},c.a.createElement("a",{href:"/artists/".concat(e.id)}," ",e.signing_name," ")),c.a.createElement("p",{className:"subtitle is-5"},t))),c.a.createElement("div",{className:"content"})))}}]),a}(l.Component));var rt,st=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentWillMount",value:function(){this.props.getArtists(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.query!==e.query&&this.props.getArtists(e)}},{key:"render",value:function(){var e=this,t=this.props.artists.map((function(t,a){return c.a.createElement(nt,{key:a,artist:t,onSearchKeyChange:e.props.onSearchKeyChange})}));return this.props.loading?c.a.createElement("div",null,"Loading..."):c.a.createElement("div",null,this.props.artists&&this.props.artists.length>0?t:c.a.createElement("span",null,c.a.createElement("strong",null,"No results. Broaden your search to find matches. ")))}}]),a}(c.a.Component),ot=(rt=st,function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).getArtist=function(e){console.log("getartist: ");var t=e.query.artistId;if(t)return n.setState({loading:!0}),D.get("/api/artists/".concat(t),{}).then((function(e){e.artist?n.setState({loading:!1,artist:e.artist}):console.log(e)})).catch((function(e){console.log(e),n.setState({artist:null,loading:!1,error:e})}))},n.getArtists=function(e){n.setState({loading:!0});var t=e.query,a="";return t&&(a="?"+(a=Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&"))),D.get("/api/artists"+a,{}).then((function(e){console.log("json: ",e),e.artists?n.setState({loading:!1,artists:e.artists}):console.log(e)})).catch((function(e){console.log(e),n.setState({artists:[],loading:!1,error:e})}))},n.applaudArtist=function(e){var t=n.props.authUser&&n.props.authUser.id;if(t)return console.log("UserId: ",t),D.artist("/api/applause",{body:{applause:{UserId:t,ArtistId:e}}}).then((function(e){if(e.applause){var t=e.applause,a=n.state.artists.map((function(e,a){if(e.id===t.ArtistId){var n=e.Applause?e.Applause:[];return n.push(t),Object.assign({},e,{Applause:n})}return e}));n.setState({artists:a,loading:!1})}else if(e.deleted){var r=e.deleted;a=n.state.artists.map((function(e,t){if(e.id===r.ArtistId){var a=e.Applause?e.Applause:[],n=a.indexOf(r);if(a.splice(n,1),n>-1)return Object.assign({},e,{Applause:a})}return e})),n.setState({artists:a,loading:!1})}else console.log(e)})).catch((function(e){n.setState({loading:!1,error:e})}));n.setState({authModalActive:!0})},n.selectArtist=function(e){n.props.history.push("/artists/".concat(e))},n.deleteArtist=function(e){return D.delete("/api/artists/"+e,{}).then((function(e){var t=e.artist;if(!t)throw new Error;var a=n.state.artists.filter((function(e,a){return e.id!==t.id}));n.setState({artists:a,loading:!1})})).catch((function(e){n.setState({loading:!1,error:e})}))},n.state={loading:!1,error:null,artists:[],artist:null,authModalActive:!1},n}return Object(s.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(rt,Object.assign({artist:this.state.artist,artists:this.state.artists,loading:this.state.loading,error:this.state.error,getArtists:this.getArtists,getArtist:this.getArtist,deleteArtist:this.deleteArtist,selectArtist:this.selectArtist},this.props)))}}]),a}(l.Component)),it=(l.Component,function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.lang;if(this.props.artist){var t=this.props.artist;return c.a.createElement("div",null,c.a.createElement(De,{label:"Name",value:t.signing_name}),c.a.createElement(De,{label:"Bio",value:t.bio,emptyText:V.none_provided[e]}))}return c.a.createElement("span",null,"Loading")}}]),a}(l.Component)),lt=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).onInputChange=function(e,t){var a=n.state;a[e]=t,n.setState({newState:a})},n.handleSubmit=function(){var e={signing_name:n.state.signing_name,bio:n.state.bio};n.props.onSubmit(n.props.artist.id,e),n.props.onCancel()},n.state={signing_name:n.props.artist.signing_name||"",bio:n.props.artist.bio||"",errors:{}},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state;return c.a.createElement("div",null,c.a.createElement(Be,{label:"Signing name",type:"text",ref:"signing_name",name:"signing_name",value:e.signing_name,onChange:this.onInputChange,errorMsg:this.state.errors.signing_name}),c.a.createElement(Be,{label:"Bio",type:"textarea",ref:"bio",name:"bio",value:e.bio,onChange:this.onInputChange,errorMsg:this.state.errors.bio}),c.a.createElement("button",{className:"button is-primary",onClick:this.handleSubmit},"Submit"),c.a.createElement("button",{className:"button",onClick:this.props.onCancel},"Cancel"))}}]),a}(l.Component),ct=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={images:{}},n}return Object(s.a)(a,[{key:"render",value:function(){return this.props.loading?c.a.createElement("div",{className:"postlist-container"},"Loading..."):c.a.createElement("div",{className:"gallery"},this.props.posts.length?this.props.posts.map((function(e,t){return e.PostImages&&e.PostImages[0]?c.a.createElement("div",{className:"grid-container"},c.a.createElement("div",{className:"grid-item",key:t},c.a.createElement(B.a,{to:"/posts/".concat(e.id)},c.a.createElement("figure",{style:{}},c.a.createElement(me,{storageLocation:e.PostImages&&e.PostImages[0].storage_location}))))):c.a.createElement("div",null)})):c.a.createElement("span",null,c.a.createElement("strong",null,"No results for this artist. ")))}}]),a}(c.a.Component),ut=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).getArtist=function(e){var t=n.props.match.params.id;if(t)return n.setState({artist:{data:null,loading:!0,error:null,editing:!1}}),D.get("/artists/".concat(t)).then((function(e){e.artist?n.setState({artist:{editing:!1,loading:!1,data:e.artist,error:null}}):n.setState({artist:Object(te.a)(Object(te.a)({},n.state.artist),{},{loading:!1})})})).catch((function(e){n.setState({artist:{data:null,loading:!1,error:e,editing:!1}})}))},n.getArtistPosts=function(e){n.setState({posts:{data:[],loading:!0,error:null}});var t=n.props.match.params.id;return D.get("/posts?artistId="+t).then((function(e){e.posts?n.setState({posts:{data:e.posts,loading:!1,error:null}}):n.setState({posts:{data:[],loading:!1,error:null}})})).catch((function(e){n.setState({posts:{data:[],loading:!1,error:e}})}))},n.closeForm=function(){n.setState({artist:Object(te.a)(Object(te.a)({},n.state.artist),{},{editing:!1})})},n.openForm=function(){n.setState({artist:Object(te.a)(Object(te.a)({},n.state.artist),{},{editing:!0})})},n.handleUpdate=function(e,t){},n.state={artist:{data:null,editing:!1,loading:!1,error:null},posts:{loading:!1,data:[],error:null}},n}return Object(s.a)(a,[{key:"componentWillMount",value:function(){this.getArtist(this.props),this.getArtistPosts(this.props)}},{key:"render",value:function(){if(this.state.artist.loading)return c.a.createElement("div",null,"Loading...");this.props.match.params.id;var e=this.state.artist.data,t=(this.state.posts.data,this.props.settings.languagePref);return c.a.createElement("div",null,c.a.createElement("h1",{className:"title is-1"},e&&e.signing_name),this.state.artist.editing?c.a.createElement("div",null,c.a.createElement(lt,{artist:e,onSubmit:this.handleUpdate,onCancel:this.closeForm})):c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(it,{artist:e,lang:t}),c.a.createElement("button",{className:"button",onClick:this.openForm},"Edit")),c.a.createElement("div",{style:{marginTop:"24px"}},e&&c.a.createElement("h3",{className:"title is-3"},"Posts by ",e.signing_name),this.state.posts.loading&&!this.state.artist.loading?c.a.createElement("p",null,"Loading..."):c.a.createElement(ct,{loading:this.state.posts.loading,posts:this.state.posts.data,total:this.state.posts.data.length}))))}}]),a}(l.Component),pt=Object(h.b)((function(e){return{auth:e.auth,settings:e.settings}}))(ut),mt=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).onInputChange=function(e,t){var a=n.state;a[e]=t,n.setState({newState:a})},n.handleSubmit=function(){var e={first_name:n.state.first_name,last_name:n.state.last_name,signing_name:n.state.signing_name};n.props.onSubmit(e),n.props.onCancel(),n.forceUpdate()},n.state={first_name:"",last_name:"",signing_name:"",errors:{}},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.lang;return c.a.createElement("div",null,c.a.createElement("h1",null,V["add-new-artist"][e]),c.a.createElement(Be,{label:V["signing_name-field-label"][e],type:"text",ref:"signing_name",name:"signing_name",value:this.state.signing_name,onChange:this.onInputChange,errorMsg:this.state.errors.description}),c.a.createElement(Be,{label:V["first_name-field-label"][e],type:"text",ref:"first_name",name:"first_name",value:this.state.first_name,onChange:this.onInputChange,errorMsg:this.state.errors.first_name}),c.a.createElement(Be,{label:V["last_name-field-label"][e],type:"text",ref:"last_name",name:"last_name",value:this.state.last_name,onChange:this.onInputChange,errorMsg:this.state.errors.last_name}),c.a.createElement("button",{className:"button is-primary",onClick:this.handleSubmit},V["submit-new"][e]),c.a.createElement("button",{className:"button",onClick:this.props.onCancel},V.cancel[e]))}}]),a}(l.Component),dt=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).findArtists=function(){n.props.getArtists({name:n.state.artistQuery})},n.handleCancel=function(){n.setState({redirect:!0})},n.handleUpdate=function(e,t){n.props.onUpdate(e,t)},n.state={isOpen:!1,artistQuery:"",redirect:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.findArtists(this.state.artistQuery)}},{key:"render",value:function(){var e=this.props.artist?"/artists/"+this.props.artist.id:"/artists";return 1==this.state.redirect?c.a.createElement(I.a,{to:e}):this.props.artist?c.a.createElement(lt,{artist:this.props.artist,onSubmit:this.handleUpdate,onCancel:this.props.onCancel}):c.a.createElement(mt,{lang:this.props.settings.languagePref,onCancel:this.handleCancel,onSubmit:this.props.onSubmit,artistList:this.props.artists.items})}}]),a}(l.Component),ht=y.SERVER_URL;function ft(e){return function(t){t({type:"GET_ARTISTS_REQUEST"});var a="";return e&&(a="?"+(a=Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&"))),fetch(ht+"/api/artists"+a).then((function(e){return e.json()})).then((function(e){return t(function(e){return console.log("data: ",e),{type:"GET_ARTISTS_SUCCESS",artists:e.artists,page:e.page,pageSize:e.pageSize,total:e.total,receivedAt:Date.now()}}(e))})).catch((function(e){return t({type:"GET_ARTISTS_ERROR",error:e})}))}}var gt=function(e){return function(t){return t({type:"GET_ARTIST_REQUEST"}),fetch(ht+"/api/artists/"+e).then((function(e){return e.json()})).then((function(e){return t(function(e){return{type:"GET_ARTIST_SUCCESS",artist:e}}(e.artist))}))}};var Et={getArtists:ft,findById:gt,submitNewArtist:function(e){return console.log("values: ",e),function(t,a){return t({type:y.AWAIT_NEW_ARTIST_RESPONSE}),fetch(ht+"/api/artists",{method:"POST",body:JSON.stringify({artist:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){t({type:y.RECEIVE_NEW_ARTIST_RESPONSE,data:e.data}),t(ft())})).catch((function(e){t({type:y.FAILED_NEW_ARTIST_RESPONSE,error:e})}))}},startArtistEdit:function(e){return{type:y.START_ARTIST_EDIT,qid:e}},cancelArtistEdit:function(e){return{type:y.FINISH_ARTIST_EDIT,qid:e}},submitArtistEdit:function(e,t){return function(a,n){return a({type:y.START_ARTIST_EDIT,id:e}),fetch(ht+"/api/artists/"+e,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){if(1==t.successful)a({type:"ARTIST_EDIT_SUCCESS",data:t.data}),a(gt(e));else{var n={};t.errors.map((function(e,t){n[e.param]={msg:e.msg,value:e.value}})),a({type:y.ARTIST_EDIT_ERROR,errors:n})}}))}},getArtistPosts:function(e){return function(t,a){t({type:"GET_ARTIST_POSTS_REQUEST"});var n="?ArtistId=".concat(e);return fetch(ht+"/api/posts"+n,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){if(e.posts)return t({type:"GET_ARTIST_POSTS_SUCCESS",posts:e.posts})})).catch((function(e){t({type:"GET_ARTIST_POSTS_ERROR",error:e})}))}}},vt=Object(h.b)((function(e){return{artists:e.artists,settings:e.settings}}),(function(e){return{onSubmit:function(t){e(Et.submitNewArtist(t))},onUpdate:function(t,a){e(Et.submitArtistEdit(t,a))},getArtists:function(t){e(Et.getArtists(t))}}}))(dt),bt=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){return Object(r.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.user.data!=this.props.user.data&&this.forceUpdate()}},{key:"render",value:function(){var e=this.props.lang,t=this.props.user.data;if(this.props.user.loading)return c.a.createElement("span",null,"Loading");if(this.props.user.error)return c.a.createElement("p",{className:"is-danger"},this.props.user.error);if(t){var a=this.props.user.data?j()(t.createdAt):null;return c.a.createElement("div",null,c.a.createElement(De,{label:V.username[e],value:t.username}),a&&c.a.createElement(De,{label:V["member-since"][e],value:a.format("YYYY/MM/DD")}),c.a.createElement(De,{label:V.bio[e],value:t.bio,emptyText:V.none_provided[e]}))}return c.a.createElement("p",null,"Something went wrong")}}]),a}(l.Component),yt=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).onFocus=function(e){var t=n.state.errors;t[e]=null,n.setState({errors:t})},n.onInputChange=function(e,t){var a=n.state.editedUser;a[e]=t,n.setState({editedUser:a})},n.handleSubmit=function(){console.log("yhandle submit");var e={};n.setState({errors:e}),n.props.user.data&&0==Object.keys(e).length?n.props.onSubmit(n.props.user.data.id,n.state.editedUser):(console.log("errors; ",e),console.log("user: ",n.props.user.data))},n.onEnterSubmit=function(e){13==e.keyCode&&n.handleSubmit()},n.state={editedUser:{},errors:{}},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.user.data&&this.setState({editedUser:this.props.user.data})}},{key:"render",value:function(){var e=this.props.lang,t=this.state.errors;return c.a.createElement("div",{className:"control"},this.props.user.error?c.a.createElement("div",{className:"message is-danger"},c.a.createElement("div",{className:"message-body"},V.bio["registration-failed"][e])):"",c.a.createElement(Be,{lang:e,label:V.bio[e],type:"textarea",name:"bio",ref:"bio",value:this.state.editedUser.bio,onFocus:this.onFocus,onChange:this.onInputChange,errorMsg:t.bio,disableAutocomplete:this.props.isNewUser}),!this.props.user.loading&&this.props.user.error&&c.a.createElement("div",{className:"notification is-danger"},this.props.user.error),c.a.createElement("button",{className:"button is-info".concat(this.props.user.loading?"is-loading":""),onClick:this.handleSubmit},V["save-changes"][e]))}}]),a}(l.Component),St=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).toggleEditingMode=function(){n.setState({isEditing:!n.state.isEditing})},n.isAuthUser=function(){var e=n.props.match.params.id;return n.props.authUser.data&&n.props.authUser.data.id==e},n.submitUserEdit=function(e,t){return n.setState({user:{data:n.state.user.data,loading:!0,error:null}}),D.put("/users/"+e,{user:Object.assign({},t,{UserId:e})}).then((function(e){n.setState({isEditing:!1,user:{data:e.user,loading:!1,error:null}})})).catch((function(e){n.setState({user:{data:n.state.user.data,loading:!1,error:e}})}))},n.getUser=function(e){return n.setState({user:{loading:!0,data:n.state.user.data,error:null}}),D.get("/users/"+e+"?include=applause").then((function(e){n.setState({user:{loading:!1,data:e.user,error:null}})})).catch((function(e){n.setState({user:{loading:!1,data:n.state.user.data,error:e}})}))},n.setActiveTab=function(e){n.setState({activeTab:e})},n.selectPost=function(e){n.props.history.push("/posts/".concat(e.id))},n.state={user:{loading:!1,error:null,data:null},isEditing:!1,tabs:[],activeTab:null},n}return Object(s.a)(a,[{key:"componentWillMount",value:function(){var e=["profile","applause","posts"];this.isAuthUser()&&e.push("account"),this.setState({tabs:e,activeTab:e[0]}),this.getUser(this.props.match.params.id)}},{key:"componentWillReceiveProps",value:function(e){e.match.params.id!==this.props.match.params.id&&this.getUser(e.match.params.id)}},{key:"render",value:function(){var e=this,t=(this.props.match.params.id,this.props.settings.languagePref),a=this.state.user.data,n="",r=this.props.match.params.id;switch(this.state.activeTab){case"profile":if(!a||this.state.user.loading){n=c.a.createElement("div",null,V.loading[t],"...");break}n=c.a.createElement("div",null,c.a.createElement(Ee,{role:this.props.auth.role,perform:"profile:update",data:{authUserId:this.props.authUser.data.id,profileOwnerId:this.state.user.data&&this.state.user.data.id},yes:function(){return c.a.createElement("button",{className:"button",style:{float:"right"},onClick:e.toggleEditingMode},e.state.isEditing?V.cancel[t]:V.edit[t])},no:function(){return null}}),this.state.isEditing?c.a.createElement(yt,{lang:this.props.settings.languagePref,user:this.state.user,onSubmit:this.submitUserEdit,isNewUser:!1}):c.a.createElement(bt,{uid:this.props.match.params.id,user:this.state.user,isEditable:this.isAuthUser(),onUpdate:this.props.onSubmitUserEdit,lang:t}));break;case"applause":n=c.a.createElement(Te,{auth:this.props.auth,settings:this.props.settings,history:this.props.history,authUser:this.props.authUser&&this.props.authUser.data,query:{applaudedBy:r}});break;case"posts":n=c.a.createElement(Te,{settings:this.props.settings,history:this.props.history,authUser:this.props.authUser&&this.props.authUser.data,query:{userId:r}});break;case"account":n=c.a.createElement("div",null," ",c.a.createElement("label",{className:"label"},V.email[t]),this.state.user.data&&this.state.user.data.email);break;default:n=c.a.createElement("span",null,"No tab selected")}return c.a.createElement("div",null,c.a.createElement("h1",{className:"title"}," ",this.isAuthUser()?V["welcome-user"][t].replace("$$",this.props.authUser.data.username):this.state.user.data?this.state.user.data.username:""),c.a.createElement("div",{className:"tabs"},c.a.createElement("ul",{style:{paddingLeft:"0"}},this.state.tabs.map((function(a,n){return c.a.createElement("li",{className:e.state.activeTab==a?"is-active":"",key:n},c.a.createElement("a",{name:a,key:n,value:n,onClick:function(){return e.setActiveTab(a)}},V[a][t]))})))),c.a.createElement("div",{className:"tab-content"},n))}}]),a}(l.Component),At=Object(h.b)((function(e){return{authUser:e.authUser,auth:e.auth,settings:e.settings}}),{})(St),Ot=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).onFocus=function(e){var t=n.state.errors;t[e]=null,n.setState({errors:t})},n.onInputChange=function(e,t){n.props.isNewUser&&"password"===e&&n.checkPassword(t);var a=n.state;a[e]=t,n.setState(a)},n.checkPassword=function(e){},n.handleSubmit=function(){var e={email:n.state.email,username:n.state.username,password:n.state.password},t=n.props.settings.languagePref,a={};e.email&&e.email.length||(a.email=V.empty_field_error[t]),e.password&&e.password.length||(a.password=V.empty_field_error[t]),!n.props.isNewUser||e.username&&e.username.length||(a.username=V.empty_field_error[t]),n.setState({errors:a}),0==Object.keys(a).length&&n.props.authenticate(e,n.props.isNewUser)},n.handleKeyDown=function(e){13==e.keyCode&&n.handleSubmit()},n.toggle=function(){n.props.isNewUser?n.props.history.push("/login"):n.props.history.push("/register")},n.state={email:"",username:"",password:"",errors:{}},n}return Object(s.a)(a,[{key:"componentWillMount",value:function(){this.props.resetAuthForm()}},{key:"componentWillReceiveProps",value:function(e){e.auth.loggedIn&&e.history.push("/")}},{key:"render",value:function(){var e=this.props.settings.languagePref,t=this.state.errors,a=this.props.auth.passwordCheck;return c.a.createElement("div",{className:"control"},"failure"==this.props.auth.registrationStatus?c.a.createElement("div",{className:"message is-danger"},c.a.createElement("div",{className:"message-body"},V["auth-errors"]["registration-failed"][e])):"",c.a.createElement(Be,{lang:e,label:V.email[e],type:"text",name:"email",ref:"email",value:this.state.email,onFocus:this.onFocus,onChange:this.onInputChange,icon:"envelope",errorMsg:t.email,disableAutocomplete:this.props.isNewUser}),this.props.isNewUser&&c.a.createElement(Be,{lang:e,label:V.username[e],type:"text",name:"username",ref:"username",value:this.state.username,onFocus:this.onFocus,onChange:this.onInputChange,icon:"user",disableAutocomplete:this.props.isNewUser,errorMsg:t.username}),c.a.createElement(Be,{lang:e,label:V.password[e],type:"password",name:"password",ref:"password",value:this.state.password,onFocus:this.onFocus,onChange:this.onInputChange,icon:"lock",errorMsg:t.password,disableAutocomplete:this.props.isNewUser,onKeyDown:this.handleKeyDown}),a&&a.score?c.a.createElement("div",{style:{marginBottom:12}},a.score<3?c.a.createElement("div",{className:"notification is-warning"},c.a.createElement("b",null,a.warning),c.a.createElement("b",null,a.message),a.suggestions&&a.suggestions.map((function(e){return c.a.createElement("li",null,e)}))):c.a.createElement("div",{className:"notification is-success"},"Strong password")):"",this.props.children,!this.props.auth.loading&&this.props.auth.error&&c.a.createElement("div",{className:"notification is-danger"},this.props.auth.error),c.a.createElement("button",{className:"button is-info ".concat(this.props.auth.loading?"is-loading":""),onClick:this.handleSubmit},this.props.isNewUser?V.register[e]:V["sign-in"][e]))}}]),a}(l.Component),Nt=Object(h.b)((function(e){return{auth:e.auth,authUser:e.authUser,settings:e.settings}}),{authenticate:x,resetAuthForm:function(){return function(e,t){return e({type:"RESET_AUTH_FORM"})}}})(Ot),Tt=(l.Component,function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.settings.languagePref;return c.a.createElement("div",null,c.a.createElement("h1",{className:"title is-1"},V.login[e]),c.a.createElement(Nt,{isNewUser:!1,history:this.props.history}),c.a.createElement("div",{style:{marginTop:"24px"}},c.a.createElement(B.a,{to:"/"},V["switch-to-register"][e])))}}]),a}(l.Component)),wt=Object(h.b)((function(e){return{settings:e.settings}}))(Tt),Ct=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("h1",{className:"title is-1",id:"top"},"About"),c.a.createElement("ol",null,c.a.createElement("li",null,c.a.createElement("a",{href:"#what-is"},"What Is Urban Applause")),c.a.createElement("li",null,c.a.createElement("a",{href:"#how-it-works"},"How It Works")),c.a.createElement("li",null,c.a.createElement("a",{href:"#technology-stack"},"Technology Stack"))),c.a.createElement("hr",null),c.a.createElement("h2",{id:"what-is",className:"subtitle is-2"},"What Is Urban Applause"),c.a.createElement("p",null,"Urban Applause lets you track street artists. You can use it to find awesome art in your neighbourhood, or to track your favorite artists as they move between cities.",c.a.createElement("br",null),c.a.createElement("a",{href:"#top"},"Back to top",c.a.createElement("span",{className:"icon is-medium"},c.a.createElement("i",{className:"fa fa-arrow-up"})))),c.a.createElement("h2",{id:"how-it-works",className:"subtitle is-2"},"How It Works"),c.a.createElement("p",null,"Anyone can upload to Urban Applause. Whether or not you know who the artist is, add photos of great street art you find here. If you do know the artist, you can create a new profile for them.",c.a.createElement("br",null),c.a.createElement("a",{href:"#top"},"Back to top",c.a.createElement("span",{className:"icon is-medium"},c.a.createElement("i",{className:"fa fa-arrow-up"})))),c.a.createElement("h2",{id:"technology-stack",className:"subtitle is-2"},"Technology Stack"),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("a",{href:"https://reactjs.org/"},"ReactJS")," (Javascript Framework)"),c.a.createElement("li",null,c.a.createElement("a",{href:"https://redux.js.org/"},"Redux")," (Javascript State Manager)"),c.a.createElement("li",null,c.a.createElement("a",{href:"https://bulma.io"},"Bulma")," (CSS Framework)"),c.a.createElement("li",null,c.a.createElement("a",{href:"https://expressjs.com"},"Express")," (NodeJS Server)"),c.a.createElement("li",null,c.a.createElement("a",{href:"https://jwt.io/"},"JWT Web Tokens")," (Authentication API)"),c.a.createElement("li",null,c.a.createElement("a",{href:"https://www.postgresql.org/"},"PostgreSQL")," (Database)"),c.a.createElement("li",null,c.a.createElement("a",{href:"https://www.digitalocean.com"},"Digital Ocean")," (Cloud Server)")),c.a.createElement("a",{href:"#top"},"Back to top",c.a.createElement("span",{className:"icon is-medium"},c.a.createElement("i",{className:"fa fa-arrow-up"}))))}}]),a}(l.Component),It=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("h1",{className:"title is-1"},"404"),c.a.createElement("h2",{className:"subtitle is-2"},"Oops, that page doesn't exist."),c.a.createElement("p",null,"Go back to the ",c.a.createElement(B.a,{to:"/"},"main page?")))}}]),a}(l.Component);var Rt=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault();var t=!1,a=n.validateForm();Object.keys(a).map((function(e,n){a[e]&&(t=!0)})),0==t?(n.setState({formSubmitted:!0}),n.refs["contact-form"].submit()):n.setState({errors:a}),console.log(a)},n.validateForm=function(){var e,t={};return 0==n.refs.name.value.length&&(t.name="Please provide a name"),0==(e=n.refs.email.value,/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase()))&&(t.email="Provide valid email"),0==n.refs.message.value.length&&(t.message="Please provide a message"),t},n.showForm=function(){n.setState({formSubmitted:!1})},n.state={formSubmitted:!1,errors:{name:null,email:null,message:null}},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.settings.languagePref,t=c.a.createElement("h1",{className:"title is-1"},V.support[e]);return 1==this.state.formSubmitted?c.a.createElement("div",null,t,c.a.createElement("p",null,V["contact-success-message"][e]),c.a.createElement("br",null),c.a.createElement("button",{onClick:this.showForm,className:"button is-primary"}," ",V["contact-again"][e])):c.a.createElement("div",null,t,c.a.createElement("form",{action:"https://formspree.io/flannery.jefferson@gmail.com",method:"POST",target:"_blank",ref:"contact-form"},c.a.createElement("div",{className:"field"},c.a.createElement("div",{className:"label",htmlFor:"name"},V["name-field-label"][e]),c.a.createElement("div",{className:"control has-icons-left"},c.a.createElement("input",Object(b.a)({className:"input ".concat(this.state.errors.name?"is-danger":""),type:"text",ref:"name",name:"name"},"ref","name")),c.a.createElement("p",{className:"help is-danger"},this.state.errors.name),c.a.createElement("span",{className:"icon is-small is-left"},c.a.createElement("i",{className:"fa fa-user"})))),c.a.createElement("div",{className:"field"},c.a.createElement("div",{className:"label",htmlFor:"email"},V.email[e]),c.a.createElement("div",{className:"control has-icons-left"},c.a.createElement("input",{className:"input ".concat(this.state.errors.email?"is-danger":""),type:"email",name:"_replyto",ref:"email"}),c.a.createElement("p",{className:"help is-danger"},this.state.errors.email),c.a.createElement("span",{className:"icon is-small is-left"},c.a.createElement("i",{className:"fa fa-envelope"})))),c.a.createElement("div",{className:"field"},c.a.createElement("div",{className:"label",htmlFor:"name"},V["message-field-label"][e]),c.a.createElement("div",{className:"control"},c.a.createElement("textarea",{className:"textarea ".concat(this.state.errors.message?"is-danger":""),type:"text",name:"message",ref:"message"}),c.a.createElement("p",{className:"help is-danger"},this.state.errors.message))),c.a.createElement("button",{className:"button is-primary",onClick:this.handleSubmit},V.send[e])))}}]),a}(l.Component),kt=Object(h.b)((function(e){return{settings:e.settings}}),(function(e){return{resetLoginStatus:function(){e(Y.resetLoginStatus())}}}))(Rt),Ut=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("h1",{className:"title is-1",id:"top"},"Privacy Policy"),c.a.createElement("div",{className:"_section"},c.a.createElement("p",null,"Urban Applause is an Open Source app. This SERVICE is provided by at no cost and is intended for use as is."),c.a.createElement("p",null,"This page is used to inform visitors of my policies regarding the collection, use, and disclosure of Personal Information, for those who decide to use my Service."),c.a.createElement("p",null,"If you choose to use my Service, then you agree to the collection and use of information in relation to this policy. The Personal Information that I collect is used for providing and improving the Service. I will not use or share your information with anyone except as described in this Privacy Policy."),c.a.createElement("p",null,"The terms used in this Privacy Policy have the same meanings as in our ",c.a.createElement(B.a,{to:"/terms-of-service"},"Terms of Service")," on the Urban Applause website, unless otherwise defined in this Privacy Policy."),c.a.createElement("h3",{className:"title is-3"},"Information Collection and Use"),c.a.createElement("p",null,c.a.createElement("b",null,"iOS App:")," Beyond the information Apple provides to developers that you can decide to provide, Urban Applause also uses Firebase Services within the app (Firebase's Privacy Policy can be found ",c.a.createElement("a",{href:"https://firebase.google.com/support/privacy",target:"_blank"},"here"),", note that Urban Applause only uses a small subset of Firebase's many services). This helps to identify crashes and stability issues (Crashlytics, Performance Monitoring) and why they're caused (eg: a post that is crashing a lot of devices), which greatly speeds up and eases the ability to swiftly fix them. Firebase Analytics is also used within the app in order to better understand which features are being used in order to make development decisions and choose where to focus development effort. The information collected is anonymous. Urban Applause does not sell or rent your data, and the anonymous information is only collected to help make the app better.")),c.a.createElement("div",{className:"_section"},c.a.createElement("h3",{className:"title is-3"},"Cookies"),c.a.createElement("p",null,"Cookies are files with a small amount of data that are commonly used as anonymous unique identifiers. These are sent to your browser from the websites that you visit and are stored on your device's internal memory."),c.a.createElement("p",null,"This Service does not use these \u201ccookies\u201d explicitly. However, the app may use third party code and libraries that use \u201ccookies\u201d to collect information and improve their services. You have the option to either accept or refuse these cookies and know when a cookie is being sent to your device. If you choose to refuse our cookies, you may not be able to use some portions of this Service.")),c.a.createElement("div",{className:"_section"},c.a.createElement("h3",{className:"title is-3"},"Service Providers"),c.a.createElement("p",null,"I may employ third-party companies and individuals due to the following reasons:"),c.a.createElement("p",null,"To facilitate our Service; To provide the Service on our behalf; To perform Service-related services; or To assist us in analyzing how our Service is used. I want to inform users of this Service that these third parties have access to your Personal Information. The reason is to perform the tasks assigned to them on our behalf. However, they are obligated not to disclose or use the information for any other purpose.")),c.a.createElement("div",{className:"_section"},c.a.createElement("h3",{className:"title is-3"},"Security"),c.a.createElement("p",null,"I value your trust in providing us your Personal Information, thus we are striving to use commercially acceptable means of protecting it. But remember that no method of transmission over the internet, or method of electronic storage is 100% secure and reliable, and I cannot guarantee its absolute security.")),c.a.createElement("div",{className:"_section"},c.a.createElement("h3",{className:"title is-3"},"Links to Other Sites"),c.a.createElement("p",null,"This Service may contain links to other sites. If you click on a third-party link, you will be directed to that site. Note that these external sites are not operated by me. Therefore, I strongly advise you to review the Privacy Policy of these websites. I have no control over and assume no responsibility for the content, privacy policies, or practices of any third-party sites or services.")),c.a.createElement("div",{className:"_section"},c.a.createElement("h3",{className:"title is-3"},"Children\u2019s Privacy"),c.a.createElement("p",null,"These Services do not address anyone under the age of 13. I do not knowingly collect personally identifiable information from children under 13. In the case I discover that a child under 13 has provided me with personal information, I immediately delete this from our servers. If you are a parent or guardian and you are aware that your child has provided us with personal information, please ",c.a.createElement(B.a,{to:"/support"},"contact me")," so that I remove this content.")),c.a.createElement("div",{className:"_section"},c.a.createElement("h3",{className:"title is-3"},"Changes to This Privacy Policy"),c.a.createElement("p",null,"I may update our Privacy Policy from time to time. Thus, you are advised to review this page periodically for any changes. I will notify you of any changes by posting the new Privacy Policy on this page. These changes are effective immediately after they are posted on this page.")),c.a.createElement("div",{className:"_section"},c.a.createElement("h3",{className:"title is-3"},"Contact Us"),c.a.createElement("p",null,"If you have any questions or suggestions about my Privacy Policy, do not hesitate to contact me at flannery.jefferson@gmail.com.")),c.a.createElement("a",{href:"#top"},"Back to top",c.a.createElement("span",{className:"icon is-medium"},c.a.createElement("i",{className:"fa fa-arrow-up"}))))}}]),a}(l.Component),jt=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("h1",{className:"title is-1",id:"top"},"Terms of Service"),c.a.createElement("div",{className:"_section"},c.a.createElement("p",null,'This site and the mobile applications and services available in connection with this site and mobile application (the \u201cApp\u201d) are made available to you by Flannery Jefferson ("Urban Applause\u201d, \u201cWe\u201d) subject to these Terms of Service, including those set forth in the ',c.a.createElement("a",{href:"/privacy-policy"},"Privacy Policy")," (the \u201cTerms\u201d). By accessing, using or downloading any materials from the App, you agree to follow and be bound by the Terms, which may be updated by us from time to time without notice to you. You can review the most current version of the Terms at any time here. We and third party providers may make improvements and/or changes in the products, services, mobile applications, features and programs described in this App at any time without notice. Certain provisions of the Terms may be supplemented or superseded by expressly designated legal notices or terms located on particular pages at this App. The App is not intended for and is not designed to attract children under 13 years of age. If you do not agree with the Terms, please do not use this App."),c.a.createElement("p",null," BY CONTINUING TO USE THE APP, YOU ARE INDICATING YOUR AGREEMENT TO THE TERMS AND ALL REVISIONS THEREOF. We reserve the right at any time and from time to time to modify or discontinue, temporarily or permanently, the App or any portion thereof with or without notice. You agree that we shall not be liable to you or to any third party for any modification, suspension or discontinuance of the App or any portion thereof."),c.a.createElement("h3",{className:"title is-3"},"Account registration"),c.a.createElement("p",null,"Some functionality requires you to complete an account-registration form. You agree that we may use your User Data to provide services on the App, and you represent that you are of legal age to form a binding contract and are not a person barred from receiving services under the laws of any applicable jurisdiction. We have the right to suspend or terminate your account and refuse any and all current or future use of the App at any time. "),c.a.createElement("h3",{className:"title is-3"},"User conduct"),c.a.createElement("p",null," You are solely responsible for maintaining the confidentiality of the password associated with your account and for restricting access to your password and to your computer while logged into the App. You accept responsibility for all activities that occur under your account or from your computer. We endeavor to use reasonable security measures to protect against unauthorized access to your account. We cannot, however, guarantee absolute security of your account, your Content or the personal information you provide, and we cannot promise that our security measures will prevent third-party \u201chackers\u201d from illegally accessing the App or its contents. You accept all risks of unauthorized access to the User Data and any other information you provide to us. You understand that all information, data, text, software, sound, photographs, graphics, video, messages, tags, or other materials (\u201cContent\u201d), whether publicly posted or privately transmitted, available in connection with the App are the sole responsibility of the person from whom such Content originated. We do not control or monitor the Content made available in the App by others and do not guarantee the accuracy, integrity, or quality of such Content. You understand that by using the App, you may be exposed to Content that is offensive, indecent, or objectionable. Under no circumstances will we be liable in any way for any Content, including, but not limited to, any errors or omissions in any Content, or any loss or damage of any kind incurred as a result of the use of any Content posted, transmitted or otherwise made available on the App. You agree to not use the App to: "),c.a.createElement("ul",null,c.a.createElement("li",null,"(a) upload, post, transmit or otherwise make available any Content that is unlawful, harmful, threatening, abusive, harassing, tortious, defamatory, vulgar, obscene, libelous, invasive of another\u2019s privacy, hateful, or racially, ethnically or otherwise objectionable; "),c.a.createElement("li",null,"(b) harm minors in any way;"),c.a.createElement("li",null,"(c) impersonate any person or entity, including, but not limited to, an Urban Applause official, or falsely state or otherwise misrepresent your affiliation with a person or entity; "),c.a.createElement("li",null,"(d) upload, post, transmit or otherwise make available any Content that you do not have a right to make available under any law or under contractual or fiduciary relationships; "),c.a.createElement("li",null,"(e) upload, post, transmit or otherwise make available any Content that infringes any patent, trademark, trade secret, copyright or other proprietary rights of any party; "),c.a.createElement("li",null,"(f) upload, post, transmit or otherwise make available any unsolicited or unauthorized advertising, promotional materials, \u201cjunk mail,\u201d \u201cspam,\u201d \u201cchain letters,\u201d \u201cpyramid schemes,\u201d or any other form of solicitation;"),c.a.createElement("li",null,"(g) upload, post, transmit or otherwise make available any material that contains software viruses or any other computer code, files or programs designed to interrupt, destroy or limit the functionality of any computer software or hardware or telecommunications equipment;"),c.a.createElement("li",null," (h) interfere with or disrupt the App or servers or networks connected to the App, or disobey any requirements, procedures, policies or regulations of networks connected to the App; and/or "),c.a.createElement("li",null,"(i) intentionally or unintentionally violate any applicable local, state, national or international law. ")),c.a.createElement("p",null,"You specifically agree not to access (or attempt to access) the App or the Content through any automated means (including the use of any script, web crawler, robot, spider, or scraper), and that you will not forge or manipulate identifiers in order to disguise the origin of any access (or attempted access) to the App. You acknowledge that we may or may not pre-screen or monitor Content, but that we and our designees shall have the right (but not the obligation) in their sole discretion to pre-screen, monitor, refuse or remove any Content that is available via the App. Without limiting the foregoing, we and our designees shall have the right to remove any Content that violates the Terms or is otherwise objectionable. You agree that you must evaluate, and bear all risks associated with, the use of any Content available in connection with the App, including any reliance on the accuracy, completeness, or usefulness of such Content. You acknowledge, consent and agree that we may access, preserve and disclose your User Data, and other Content if required to do so by law or in a good faith belief that such access preservation or disclosure is reasonably necessary to: "),c.a.createElement("ul",null,c.a.createElement("li",null,"(a) comply with legal process; "),c.a.createElement("li",null,"(b) enforce the Terms; "),c.a.createElement("li",null,"(c) respond to claims that any Content violates the rights of third parties; "),c.a.createElement("li",null,"(d) respond to your requests for customer service; or "),c.a.createElement("li",null,"(e) protect the rights, property or personal safety of us, its users and the public. Subject to the foregoing, we will use reasonable efforts to maintain the confidentiality of your User Data.")),c.a.createElement("p",null,"The App is for your personal and noncommercial use. You may not modify, copy, distribute, transmit, display, perform, reproduce, publish, license, create derivative works from, transfer or sell for any commercial purposes any portion of the App, use of the App or access to the App."),c.a.createElement("h3",{className:"title is-3"},"Electronic Communications"),c.a.createElement("p",null,"The App may provide you with the ability to communicate with third party service providers, advertisers, other users, and/or us. You agree to use communication methods available on the App only to send communications and materials related to the subject matter for which we provided the communication method, and you further agree that all such communications by you shall be deemed your Content and shall be subject to and governed by the Terms. By using any of the communications methods available on the App, you acknowledge and agree that"),c.a.createElement("ul",null,c.a.createElement("li",null,"(a) all communications methods constitute public, and not private, means of communication between you and the other party or parties, "),c.a.createElement("li",null,"(b) communications sent to or received from third party service providers, advertisers or other third parties are not endorsed, sponsored or approved by us (unless expressly stated otherwise by Flannery Jefferson) and "),c.a.createElement("li",null,"(c) communications are not pre-reviewed, post-reviewed, screened, archived or otherwise monitored by us in any manner, though we reserve the right to do so at any time at its sole discretion in accordance with the Terms.")),c.a.createElement("p",null,"You agree that all notices, disclosures and other communications that we provide to you electronically shall satisfy any legal requirement that such communications be in writing."),c.a.createElement("h3",{className:"title is-3"},"Proprietary Rights"),c.a.createElement("p",null,"You acknowledge and agree that the App and any necessary software used in connection with the App (if any) contain proprietary and confidential information that is protected by applicable intellectual property and other laws. Except as expressly permitted by applicable law or authorized by us or applicable third party service providers or advertisers, you agree not to modify, rent, lease, loan, sell, distribute or create derivative works based on the App, the software or Content available on the App (other than Content that you may submit), in whole or in part."),c.a.createElement("p",null,"You agree not to access the App by any means other than through the interface that is provided by us for use in accessing the App."),c.a.createElement("p",null,"The terms Urban Applause, the Urban Applause logo; and other Flannery Jefferson logos and product and service names are the exclusive trademarks of, and are owned by Flannery Jefferson, and you may not use or display such trademarks in any manner without our prior written permission. Any third party trademarks or service marks displayed on the App are the property of their respective owners. We reserve all rights not expressly granted hereunder."),c.a.createElement("h3",{className:"title is-3"},"Disclaimer of Warranties and Liability"),c.a.createElement("p",null,"THE INFORMATION, SOFTWARE, PRODUCTS, SERVICES, AND CONTENT AVAILABLE IN THE APP ARE PROVIDED TO YOU \u201cAS IS\u201d AND WITHOUT WARRANTY. FLANNERY JEFFERSON AND HER SUBSIDIARIES, AFFILIATES, OFFICERS, EMPLOYEES, AGENTS, PARTNERS, AND LICENSORS HEREBY DISCLAIM ALL WARRANTIES WITH REGARD TO SUCH INFORMATION, SOFTWARE, PRODUCTS, SERVICES AND CONTENT, INCLUDING, WITHOUT LIMITATION, ALL IMPLIED WARRANTIES AND CONDITIONS OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE AND NONINFRINGEMENT. FLANNERY JEFFERSON AND HER SUBSIDIARIES, AFFILIATES, OFFICERS, EMPLOYEES, AGENTS, PARTNERS, AND LICENSORS MAKE NO WARRANTY THAT (a) THE SERVICE WILL MEET YOUR REQUIREMENTS; (b) THE SERVICE WILL BE UNINTERRUPTED, TIMELY, SECURE, OR ERROR-FREE; (c) THE RESULTS THAT MAY BE OBTAINED FROM THE USE OF THE SERVICE WILL BE ACCURATE OR RELIABLE; (d) THE QUALITY OF ANY PRODUCTS, SERVICES, INFORMATION, OR OTHER MATERIAL PURCHASED OR OBTAINED BY YOU THROUGH THE SERVICE WILL MEET YOUR EXPECTATIONS; AND (e) ANY ERRORS IN THE APP WILL BE CORRECTED. YOU EXPRESSLY AGREE TO RELEASE FLANNERY JEFFERSON AND HER SUBSIDIARIES, AFFILIATES, OFFICERS, AGENTS, REPRESENTATIVES, EMPLOYEES, PARTNERS AND LICENSORS (THE \u201cRELEASED PARTIES\u201d) FROM ANY AND ALL LIABILITY CONNECTED WITH YOUR ACTIVITIES, AND PROMISE NOT TO SUE THE RELEASED PARTIES FOR ANY CLAIMS, ACTIONS, INJURIES, DAMAGES, OR LOSSES ASSOCIATED WITH YOUR ACTIVITIES. YOU ALSO AGREE THAT IN NO EVENT SHALL THE RELEASED PARTIES BE LIABLE TO YOU OR ANY THIRD PARTY FOR ANY DIRECT, INDIRECT, PUNITIVE, INCIDENTAL, SPECIAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF OR IN ANY WAY CONNECTED WITH (a) YOUR USE OR MISUSE OF THE APP, (b) YOUR DEALINGS WITH THIRD PARTY SERVICE PROVIDERS OR ADVERTISERS AVAILABLE THROUGH THE APP, (c) ANY DELAY OR INABILITY TO USE THE APP EXPERIENCED BY YOU, (d) ANY INFORMATION, SOFTWARE, PRODUCTS, SERVICES, OR CONTENT OBTAINED THROUGH THE APP, WHETHER BASED ON CONTRACT, TORT, STRICT LIABILITY, OR OTHERWISE, EVEN IF FLANNERY JEFFERSON HAS BEEN ADVISED OF THE POSSIBILITY OF DAMAGES. BECAUSE SOME STATES/JURISDICTIONS DO NOT ALLOW THE EXCLUSION OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES, THE ABOVE LIMITATION MAY NOT APPLY TO YOU. "),c.a.createElement("h3",{className:"title is-3"},"Indemnity"),c.a.createElement("p",null,"You agree to indemnify and hold us and our subsidiaries, affiliates, officers, agents, representatives, employees, partners and licensors harmless from any claim or demand, including reasonable attorneys\u2019 fees, made by any third party due to or arising out of Content you submit, post, transmit or otherwise seek to make available through the App, your use of the App, your connection to the App, your violation of the Terms, or your violation of any rights of another person or entity."),c.a.createElement("h3",{className:"title is-3"},"Termination"),c.a.createElement("p",null,"You agree that we may, under certain circumstances and without prior notice, immediately terminate your account and/or access to the App. Cause for such termination shall include, but not be limited to, (a) breaches or violations of the Terms or other incorporated agreements or guidelines, (b) requests by law enforcement or other government agencies, (c) a request by you (self-initiated account deletions), (d) discontinuance or material modification to the App (or any portion thereof), (e) unexpected technical or security issues or problems, (f) and/or extended periods of inactivity Termination of your account may include (x) removal of access to all offerings within the App, (y) deletion of your information, files and Content associated with or inside your account, and (z) barring of further use of the App."),c.a.createElement("p",null,"Further, you agree that all terminations for cause shall be made in our sole discretion and that we shall not be liable to you or any third party for any termination of your account or access to the App."),c.a.createElement("h3",{className:"title is-3"},"Applicable laws"),c.a.createElement("p",null,"This App is controlled by Flannery Jefferson from within Canada. We make no representation that the Content in the App or the App are appropriate or available for use in other locations, and access to them from territories where their content or use is illegal is prohibited. Those who choose to access this App from locations outside of Canada do so on their own initiative and are responsible for compliance with applicable local laws. You may not use or export the Content in violation of Canadian export laws and regulations."),c.a.createElement("p",null,"If any party hereto brings any suit or action against another for relief, declaratory or otherwise, arising out of these Terms, the prevailing party will have and recover against the other party, in addition to all court costs and disbursements, such sum as the court may adjudge to be reasonable attorneys\u2019 fees. Except to the extent prohibited by applicable law, the parties agree that any claim or cause of action arising out of or related to use of the App or the Terms must be filed within one (1) year after such claim or cause of action arose or be forever barred. Sections 9, 11, 12, 13, 15 and 16 shall survive termination of your account and/or the Terms."),c.a.createElement("h3",{className:"title is-3"},"General"),c.a.createElement("p",null,"You agree that no joint venture, partnership, employment, or agency relationship exists between you and Flannery Jefferson as a result of the Terms or your use of the App. The Terms constitute the entire agreement between you and Flannery Jefferson with respect to your use of the App. The failure of us to exercise or enforce any right or provision of the Terms shall not constitute a waiver of such right or provision. If any provision of the Terms is found by a court of competent jurisdiction to be invalid, the parties nevertheless agree that the court should endeavor to give effect to the parties\u2019 intentions as reflected in the provision, and the other provisions of the Terms remain in full force and effect. You may not assign, delegate or otherwise transfer your account or your obligations under these Terms without the prior written consent of us. We have the right, in its sole discretion, to transfer or assign all or any part of its rights under these Terms and will have the right to delegate or use third party contractors to fulfill its duties and obligations under these Terms and in connection with the App. Our notice to you via email, regular mail, or notices or links on the App shall constitute acceptable notice to you under the Terms. A printed version of the Terms and of any notice given in electronic form shall be admissible in judicial or administrative proceedings based upon or relating to the Terms to the same extent and subject to the same conditions as other business documents and records originally generated and maintained in printed form."),c.a.createElement("p",null,"Section titles and headings in the Terms are for convenience only and have no legal or contractual effect. Any rights not expressly granted herein are reserved.")),c.a.createElement("a",{href:"#top"},"Back to top",c.a.createElement("span",{className:"icon is-medium"},c.a.createElement("i",{className:"fa fa-arrow-up"}))))}}]),a}(l.Component),_t=a(209),Pt=new P("auth"),Dt=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).onInputChange=function(e,t){n.setState(Object(b.a)({},e,t))},n.handleSubmit=function(){n.setState({fieldErrors:{password:null,password_again:null},formError:null});var e=n.state,t=e.password,a=e.password_again,r=n.props.settings.languagePref;if(t&&t.length||n.setState({fieldErrors:Object(te.a)(Object(te.a)({},n.state.fieldErrors),{},{password:V.empty_field_error[r]})}),a&&a.length||n.setState({fieldErrors:Object(te.a)(Object(te.a)({},n.state.fieldErrors),{},{password_again:V.empty_field_error[r]})}),t!==a&&n.setState({formError:V["auth-errors"]["passwords-dont-match"][r]}),!(n.state.fieldErrors.password||n.state.fieldErrors.password_again||n.state.formError)){var s=n.props.location.search.split("="),o=Object(_t.a)(s,2)[1],i=n.props.match.params.token;return n.setState({loading:!0}),Pt.put("/update-password/".concat(i),{user:{password:t,email:o}}).then((function(e){e.user?n.setState({loading:!1,didSucceed:!0}):console.log(e)})).catch((function(e){console.log(e),n.setState({loading:!1,formError:e})}))}console.log("form has errors: ",n.state.formError)},n.onEnterSubmit=function(e){13==e.keyCode&&n.handleSubmit()},n.validate=function(e){var t={password:function(e){return e.length<1?"password_presence":e.length>8?null:"password_length"}};return Object.keys(e).reduce((function(a,n){var r=t[n](e[n]);return r?a.concat({field:n,code:r}):a}),[])},n.state={password:"",password_again:"",loading:!1,fieldErrors:{},formError:null,pageError:null,didSucceed:!1,didCheckToken:!1},n}return Object(s.a)(a,[{key:"componentWillMount",value:function(){var e=this;console.log("mounting reset ");var t=this.props.match.params.token,a=this.props.location.search;Pt.get("/update-password/".concat(t).concat(a)).then((function(t){e.setState({didCheckToken:!0})})).catch((function(t){e.setState({pageError:t,didCheckToken:!0})}))}},{key:"render",value:function(){var e=this.props.settings.languagePref;if(!this.state.didCheckToken)return c.a.createElement("div",{className:"control"},c.a.createElement("h1",{className:"title is-1"},V["reset-password"][e]),c.a.createElement("div",null,"Verifying reset token..."));if(this.state.didSucceed)return c.a.createElement("div",{className:"control"},c.a.createElement("h1",{className:"title is-1"},V["reset-password"][e]),c.a.createElement("div",{className:"notification is-success"},V["reset-password-success"][e]));if(this.state.pageError)return c.a.createElement("div",{className:"control"},c.a.createElement("h1",{className:"title is-1"},V["reset-password"][e]),c.a.createElement("div",{className:"notification is-danger"},this.state.pageError));var t=this.state,a=t.fieldErrors,n=t.password,r=t.password_again;this.props.match.params.token,this.props.location.search;return c.a.createElement("div",{className:"control"},c.a.createElement("h1",{className:"title is-1"},V["reset-password"][e]),c.a.createElement(Be,{lang:e,label:V["new-password"][e],type:"password",name:"password",ref:"password",value:n,onChange:this.onInputChange,icon:"lock",errorMsg:a.password,disableAutocomplete:!0}),c.a.createElement(Be,{lang:e,label:V["new-password-again"][e],type:"password",name:"password_again",ref:"password_again",value:r,onChange:this.onInputChange,icon:"lock",errorMsg:a.password_again,disableAutocomplete:!0}),!this.state.loading&&this.state.formError&&c.a.createElement("div",{className:"notification is-danger"},this.state.formError),c.a.createElement("button",{className:"button is-info".concat(this.state.loading?"is-loading":""),onClick:this.handleSubmit},V["submit-new-password"][e]))}}]),a}(l.Component),Lt=Object(h.b)((function(e){return{settings:e.settings}}),(function(e){return{}}))(Dt),Mt=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("h1",{className:"title is-1",id:"top"},"Cookie Usage"),c.a.createElement("div",{className:"_section"},c.a.createElement("p",null,"Cookies are files with a small amount of data that are commonly used as anonymous unique identifiers. These are sent to your browser from the websites that you visit and are stored on your device's internal memory."),c.a.createElement("p",null,"This Service does not use these \u201ccookies\u201d explicitly. However, the app may use third party code and libraries that use \u201ccookies\u201d to collect information and improve their services. You have the option to either accept or refuse these cookies and know when a cookie is being sent to your device. If you choose to refuse our cookies, you may not be able to use some portions of this Service.")))}}]),a}(l.Component),xt=(a(619),function(e){return function(t){Object(o.a)(n,t);var a=Object(i.a)(n);function n(e){var t;return Object(r.a)(this,n),(t=a.call(this,e)).getPosts=function(e){return t.setState({loading:!0,posts:t.state.posts&&e.page>0?t.state.posts:[]}),D.get("/posts",{},e).then((function(e){e.posts?t.setState({loading:!1,posts:e.posts.concat(t.state.posts)}):console.log(e)})).catch((function(e){console.log(e),t.setState({posts:[],loading:!1,error:e})}))},t.getPost=function(e){var a=e.query.postId;if(a)return t.setState({loading:!0}),D.get("/posts/".concat(a),{}).then((function(e){console.log(e),e.post?t.setState({loading:!1,post:e.post}):console.log(e)})).catch((function(e){console.log(e),t.setState({post:null,loading:!1,error:e})}))},t.applaudPost=function(e){console.log(t.props);var a=t.props.authUser&&t.props.authUser.data&&t.props.authUser.data.id;if(a)return console.log("UserId: ",a),D.post("/applause",{applause:{UserId:a,PostId:e}}).then((function(e){if(e.applause){var a=e.applause,n=t.state.posts.map((function(e,t){if(e.id===a.PostId){var n=e.Applause?e.Applause:[];return n.push(a),Object.assign({},e,{Applause:n})}return e}));t.setState({posts:n,loading:!1})}else if(e.deleted){var r=e.deleted;n=t.state.posts.map((function(e,t){if(e.id===r.PostId){var a=e.Applause?e.Applause:[],n=a.indexOf(r);if(a.splice(n,1),n>-1)return Object.assign({},e,{Applause:a})}return e}));t.setState({posts:n,loading:!1})}else console.log(e)})).catch((function(e){t.setState({loading:!1,error:e})}));t.setState({authModalActive:!0})},t.selectPost=function(e){t.props.history.push("/posts/".concat(e))},t.deletePost=function(e){t.setState({confirmDeletePost:e})},t.onConfirmDeletePost=function(){if(t.state.confirmDeletePost)return D.delete("/posts/"+t.state.confirmDeletePost,{}).then((function(e){var a=e.post;if(!a)throw new Error;var n=t.state.posts.filter((function(e,t){return e.id!==a.id}));t.setState({posts:n,loading:!1,confirmDeletePost:null})})).catch((function(e){t.setState({loading:!1,error:e})}))},t.viewComments=function(e){t.props.history.push("/posts/".concat(e.id,"#comments"))},t.cancelDeletePost=function(){t.setState({confirmDeletePost:null})},t.state={loading:!1,error:null,posts:[],post:null,authModalActive:!1,confirmDeletePost:null},t}return Object(s.a)(n,[{key:"render",value:function(){var t=this.props.settings.languagePref;return c.a.createElement("div",null,c.a.createElement("div",{className:"modal ".concat(this.state.confirmDeletePost?"is-active":"")},c.a.createElement("div",{className:"modal-background"}),c.a.createElement("div",{className:"modal-card"},c.a.createElement("header",{className:"modal-card-head"},c.a.createElement("p",{className:"modal-card-title"},V["confirm-delete-title"][t].replace("$$","post")),c.a.createElement("button",{className:"delete","aria-label":"close",onClick:this.cancelDeletePost})),c.a.createElement("section",{className:"modal-card-body"},V["confirm-delete-body"][t]),c.a.createElement("footer",{className:"modal-card-foot"},c.a.createElement("button",{className:"button",onClick:this.cancelDeletePost},V.cancel[t]),c.a.createElement("button",{className:"button is-danger",onClick:this.onConfirmDeletePost},"Delete"))),c.a.createElement("button",{className:"modal-close is-large","aria-label":"close",onClick:this.cancelDeletePost})),c.a.createElement(e,Object.assign({post:this.state.post,posts:this.state.posts,loading:this.state.loading,error:this.state.error,getPosts:this.getPosts,getPost:this.getPost,deletePost:this.deletePost,selectPost:this.selectPost,viewComments:this.viewComments,applaudPost:this.applaudPost},this.props)))}}]),n}(l.Component)}(function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={map:null,markers:[],error:null},n}return Object(s.a)(a,[{key:"componentWillReceiveProps",value:function(e,t){var a=this;if(!this.state.markers.length&&e.posts&&this.state.map){var n=[];e.posts.map((function(e){var t=e.Location.coordinates.coordinates,r=new window.mapkit.Coordinate(t[0],t[1]),s={calloutElementForAnnotation:c.a.createElement("div",{style:{width:"100px",height:"200px",backgroundColor:"white",border:"2px solid red"}})},o=new window.mapkit.MarkerAnnotation(r,{data:{},callout:s});n.push(o),a.state.map.addAnnotation(o)})),this.setState({markers:n})}}},{key:"componentDidMount",value:function(){var e=this;this.props.getPosts(Object(te.a)({},this.props.query)),D.get("/mapkit/token").then((function(t){if(t.token){window.mapkit.init({authorizationCallback:function(e){e(t.token)}});var a=new window.mapkit.Map("map");e.setState({map:a})}})).catch((function(t){e.setState({error:t})}))}},{key:"render",value:function(){return c.a.createElement("div",{id:"map",style:{height:"600px",width:"800px"}})}}]),a}(l.Component))),Ft=a(207),Wt=a.n(Ft),Gt=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.settings.languagePref,t=a(734)("./ios_app_store_button_".concat(e,".png")),n=V.agreement_on_register[e].split("$$");return c.a.createElement("div",{className:"public-page-wrapper"},c.a.createElement("div",{className:"columns"},c.a.createElement("div",{className:"column"},c.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},c.a.createElement("img",{src:Wt.a,style:{height:"400px",marginBottom:"24px"}}),c.a.createElement("a",{href:"https://apps.apple.com/ca/app/urban-applause/id1488053225",target:"_blank"},c.a.createElement("img",{src:t,style:{height:"40px"}})))),c.a.createElement("div",{className:"column"},c.a.createElement("h3",{className:"title is-1"},"Urban Applause"),c.a.createElement("h4",{className:"subtitle is-3"},V.tagline[e]),c.a.createElement(Nt,{isNewUser:!0,history:this.props.history,settings:this.props.settings,auth:this.props.auth,checkPassword:this.props.checkPassword,authenticate:this.props.authenticate},c.a.createElement("p",{style:{marginBottom:"24px"}},n[0],c.a.createElement(B.a,{to:"/terms-of-service"},V.terms_of_service[e]),n[1],c.a.createElement(B.a,{to:"/privacy-policy"},V.privacy_policy[e]))),c.a.createElement("div",{style:{marginTop:"24px"}},c.a.createElement(B.a,{to:"/login"},V["switch-to-login"][e])))))}}]),n}(l.Component),Yt=Object(h.b)((function(e){return{settings:e.settings}}))(Gt),Ht=a(210),Kt=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={shouldRedirect:!1},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=(e.auth,Object(Ht.a)(e,["auth"]));return c.a.createElement(I.b,Object.assign({},t,{render:function(e){return c.a.createElement(Ee,{role:_.role,perform:"post:read",yes:function(){return c.a.createElement(l.Component,e)},no:function(){return c.a.createElement(I.a,{to:{pathname:"/",state:{from:e.location}}})}})}}))}}]),a}(l.Component),Bt=a(23),Vt=Object(Bt.a)(),Qt=(a(737),d.a.get("locale"),function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return c.a.createElement(h.a,{store:C},c.a.createElement("div",null,(e=C,c.a.createElement(I.c,{history:Vt},c.a.createElement(k,null,c.a.createElement("div",{className:"wrapper page-content"},c.a.createElement(I.d,null,c.a.createElement(I.b,{exact:!0,path:"/",render:function(t){return e.getState().auth.loggedIn?c.a.createElement(I.a,{to:"/posts"}):c.a.createElement(Yt,t)}}),c.a.createElement(I.b,{path:"/"},c.a.createElement(I.b,{path:"/:currentRoute",component:J}),c.a.createElement(I.d,null,c.a.createElement(I.b,{exact:!0,path:"/login",component:wt}),c.a.createElement(I.b,{exact:!0,path:"/register",render:function(){return c.a.createElement(I.a,{to:"/"})}}),c.a.createElement(I.b,{exact:!0,path:"/about",component:Ct}),c.a.createElement(I.b,{exact:!0,path:"/support",component:kt}),c.a.createElement(I.b,{exact:!0,path:"/update-password/:token",component:Lt}),c.a.createElement(I.b,{exact:!0,path:"/privacy-policy",component:Ut}),c.a.createElement(I.b,{exact:!0,path:"/terms-of-service",component:jt}),c.a.createElement(I.b,{exact:!0,path:"/cookie-usage",component:Mt}),c.a.createElement(Kt,{exact:!0,path:"/map",component:xt}),c.a.createElement(Kt,{exact:!0,path:"/posts",component:Ie}),c.a.createElement(Kt,{exact:!0,path:"/posts/new",component:at}),c.a.createElement(Kt,{exact:!0,path:"/posts/:id",component:xe}),c.a.createElement(Kt,{exact:!0,path:"/users/:id",component:At}),c.a.createElement(Kt,{exact:!0,path:"/artists/new",component:vt}),c.a.createElement(Kt,{exact:!0,path:"/artists/:id",component:pt}),c.a.createElement(I.b,{path:"/:route",component:It}))),c.a.createElement(I.b,{path:"/:route",component:It})))),c.a.createElement(ee,null)))));var e}}]),a}(c.a.Component));C.dispatch(z.initSettings()),C.dispatch(Y.checkLocalAuthState()),p.a.render(c.a.createElement(Qt,null),document.getElementById("root"))},77:function(e,t){}},[[211,1,2]]]);
//# sourceMappingURL=main.33716d27.chunk.js.map